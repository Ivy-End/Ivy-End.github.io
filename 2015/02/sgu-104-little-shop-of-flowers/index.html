<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>SGU 104 - Little shop of flowers | é€€æ€è½©</title><meta name=keywords content="ACM-ICPC,SGU"><meta name=description content="Description You want to arrange the window of your flower shop in a most pleasant way. You have $F$ bunches of flowers, each being of a different kind, and at least as many vases ordered in a row. The vases are glued onto the shelf and are numbered consecutively 1 through $V$, where $V$ is the number of vases, from left to right so that the vase 1 is the"><meta name=author content="Kai Wang"><link rel=canonical href=https://kwang.life/2015/02/sgu-104-little-shop-of-flowers/><meta name=google-site-verification content="G-FVKQ0YJ3T3"><link crossorigin=anonymous href=/assets/css/stylesheet.268533f3ae0bc2b978bf93c89b0f54147da62e0f8c95f01147ec46d3f1536348.css integrity="sha256-JoUz864Lwrl4v5PImw9UFH2mLg+MlfARR+xG0/FTY0g=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://kwang.life/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://kwang.life/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://kwang.life/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://kwang.life/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://kwang.life/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css integrity=sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js integrity=sha384-cpW21h6RZv/phavutF+AuVYrr+dA8xD9zs6FwLpaCct6O9ctzYFfFr4dgmgccOTx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:!0},{left:'$',right:'$',display:!1},{left:'\\(',right:'\\)',display:!1},{left:'\\[',right:'\\]',display:!0}],throwOnError:!1})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-FVKQ0YJ3T3"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-FVKQ0YJ3T3',{anonymize_ip:!1})}</script><meta property="og:title" content="SGU 104 - Little shop of flowers"><meta property="og:description" content="Description You want to arrange the window of your flower shop in a most pleasant way. You have $F$ bunches of flowers, each being of a different kind, and at least as many vases ordered in a row. The vases are glued onto the shelf and are numbered consecutively 1 through $V$, where $V$ is the number of vases, from left to right so that the vase 1 is the"><meta property="og:type" content="article"><meta property="og:url" content="https://kwang.life/2015/02/sgu-104-little-shop-of-flowers/"><meta property="og:image" content="https://kwang.life/47"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-02-24T13:13:00+08:00"><meta property="article:modified_time" content="2015-02-24T13:13:00+08:00"><meta property="og:site_name" content="é€€æ€è½©"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://kwang.life/47"><meta name=twitter:title content="SGU 104 - Little shop of flowers"><meta name=twitter:description content="Description You want to arrange the window of your flower shop in a most pleasant way. You have $F$ bunches of flowers, each being of a different kind, and at least as many vases ordered in a row. The vases are glued onto the shelf and are numbered consecutively 1 through $V$, where $V$ is the number of vases, from left to right so that the vase 1 is the"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://kwang.life/posts/"},{"@type":"ListItem","position":3,"name":"SGU 104 - Little shop of flowers","item":"https://kwang.life/2015/02/sgu-104-little-shop-of-flowers/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"SGU 104 - Little shop of flowers","name":"SGU 104 - Little shop of flowers","description":"Description You want to arrange the window of your flower shop in a most pleasant way. You have $F$ bunches of flowers, each being of a different kind, and at least as many vases ordered in a row. The vases are glued onto the shelf and are numbered consecutively 1 through $V$, where $V$ is the number of vases, from left to right so that the vase 1 is the","keywords":["ACM-ICPC","SGU"],"articleBody":"Description You want to arrange the window of your flower shop in a most pleasant way. You have $F$ bunches of flowers, each being of a different kind, and at least as many vases ordered in a row. The vases are glued onto the shelf and are numbered consecutively 1 through $V$, where $V$ is the number of vases, from left to right so that the vase 1 is the leftmost, and the vase $V$ is the rightmost vase. The bunches are moveable and are uniquely identified by integers between 1 and $F$. These id-numbers have a significance: They determine the required order of appearance of the flower bunches in the row of vases so that the bunch i must be in a vase to the left of the vase containing bunch $j$ whenever $i \u003c j$.\nSuppose, for example, you have bunch of azaleas (id-number=1), a bunch of begonias (id-number=2) and a bunch of carnations (id-number=3). Now, all the bunches must be put into the vases keeping their id-numbers in order. The bunch of azaleas must be in a vase to the left of begonias, and the bunch of begonias must be in a vase to the left of carnations. If there are more vases than bunches of flowers then the excess will be left empty. A vase can hold only one bunch of flowers.\nEach vase has a distinct characteristic (just like flowers do). Hence, putting a bunch of flowers in a vase results in a certain aesthetic value, expressed by an integer. The aesthetic values are presented in a table as shown below. Leaving a vase empty has an aesthetic value of 0.\nVASES 1 2 3 4 5 Bunches 1 (azaleas) 7 23 -5 -24 16 2 (begonias) 5 21 -4 10 23 3 (carnations) -21 5 -4 -20 20 According to the table, azaleas, for example, would look great in vase 2, but they would look awful in vase 4.\nTo achieve the most pleasant effect you have to maximize the sum of aesthetic values for the arrangement while keeping the required ordering of the flowers. If more than one arrangement has the maximal sum value, any one of them will be acceptable. You have to produce exactly one arrangement.\n$1\\leq F\\leq 100$ where $F$ is the number of the bunches of flowers. The bunches are numbered 1 through $F$.\n$F\\leq V\\leq 100$ where $V$ is the number of vases.\n$-50\\leq A_{i,j}\\leq 50$ where $A_{i,j}$ is the aesthetic value obtained by putting the flower bunch $i$ into the vase $j$.\nInput The first line contains two numbers: $F$, $V$.\nThe following $F$ lines: Each of these lines contains $V$ integers, so that $A_{i,j}$ is given as the $j$â€˜th number on the $(i+1)$â€˜st line of the input file.\nOutput The first line will contain the sum of aesthetic values for your arrangement.\nThe second line must present the arrangement as a list of $F$ numbers, so that the $k$â€˜th number on this line identifies the vase in which the bunch $k$ is put.\nSample Input 3 5 7 23 -5 -24 16 5 21 -4 10 23 -21 5 -4 -20 20 Sample Output 53 2 4 5 Analysis ç»å…¸çš„åŠ¨æ€è§„åˆ’é¢˜ã€‚æˆ‘ä»¬ä»¤ $f[i][j]$ è¡¨ç¤ºå‰ $i$ æŸèŠ±æ”¾åˆ°å‰ $j$ ä¸ªèŠ±ç“¶ä¸­è·å¾—çš„æœ€å¤§çš„é­…åŠ›å€¼ã€‚\nç”±äºèŠ±æŸå¿…é¡»æŒ‰ç¼–å·é€’å¢å®‰æ’ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š$$ f[i][j] = \\max{\\left(f[i][j - 1], f[i - 1][j - 1] + \\mathrm{pData}[i][j]\\right)}$$ å³ $f[i][j]$ è¿™ä¸ªçŠ¶æ€å¯ä»¥ç”± $f[i][j - 1]$ï¼ˆç¬¬ $i$ æŸèŠ±ä¸æ”¾åœ¨ç¬¬ $j$ ä¸ªèŠ±ç“¶é‡Œï¼‰ä»¥åŠ $f[i - 1][j - 1]$ï¼ˆç¬¬ $i$ æŸèŠ±æ”¾åœ¨ç¬¬ $j$ ä¸ªèŠ±ç“¶é‡Œï¼‰è½¬ç§»è¿‡æ¥ã€‚\nè¿™é“é¢˜ç›®è¿˜éœ€è¦è¾“å‡ºæ–¹æ¡ˆï¼Œæˆ‘ä»¬éœ€è¦è®°å½•è½¬ç§»è¿‡ç¨‹ã€‚æˆ‘çš„æ–¹æ³•æ˜¯ä»¤ä¸€ä¸ªç»“æ„ä½“ï¼Œä¿å­˜å®ƒæ˜¯ç”±é‚£ä¸ªçŠ¶æ€è½¬ç§»è¿‡æ¥çš„ï¼Œå¹¶ä¸”æ˜¯å¦æ”¾ç½®äº†èŠ±æŸã€‚è¾“å‡ºæ–¹æ¡ˆçš„æ—¶å€™é€’å½’è¾“å‡ºå³å¯ã€‚\nè¿˜æœ‰ä¸€ä¸ªæ³¨æ„ç‚¹ï¼Œé¢˜ç›®ä¸­çš„é­…åŠ›å€¼å¯èƒ½ä¸ºè´Ÿæ•°ã€‚è¿™ä¸ºæˆ‘ä»¬åˆå§‹åŒ– $f$ æ•°ç»„çš„æ—¶å€™å¸¦æ¥äº†é—®é¢˜ã€‚\næˆ‘é€‰æ‹©çš„è§£å†³æ–¹æ¡ˆæ˜¯æŠŠé­…åŠ›å€¼åŠ ä¸Šä¸€ä¸ªåç§»é‡ 100ï¼Œä¿è¯äº†é­…åŠ›å€¼ä¸ºæ­£æ•°ï¼Œç„¶åæŠŠ $f$ æ•°ç»„å…¨éƒ¨ç½®ä¸º 0ï¼Œè¾“å‡ºçš„æ—¶å€™æŠŠé­…åŠ›å€¼å‡å» $100\\times F$ å³å¯ã€‚\nSolution #include #include using namespace std; const int MAX = 128; struct State { State(int _x = 0, int _y = 0, int _k = 0) { x = _x; y = _y; k = _k; } int x, y, k; }; int f[MAX][MAX], pData[MAX][MAX]; State pAns[MAX][MAX]; void Print(int x, int y); int main() { ios::sync_with_stdio(false); int F, V; while(cin \u003e\u003e F \u003e\u003e V) { memset(f, 0, sizeof(f)); for(int i = 1; i \u003c= F; i++) { for(int j = 1; j \u003c= V; j++) { cin \u003e\u003e pData[i][j]; pData[i][j] += 100; } } for(int i = 1; i \u003c= F; i++) { for(int j = 1; j \u003c= V; j++) { if(f[i][j - 1] \u003c f[i - 1][j - 1] + pData[i][j]) { f[i][j] = f[i - 1][j - 1] + pData[i][j]; pAns[i][j] = State(i - 1, j - 1, 1); } else { f[i][j] = f[i][j - 1]; pAns[i][j] = State(i, j - 1, 0); } } } cout \u003c\u003c f[F][V] - 100 * F \u003c\u003c endl; Print(F, V); cout \u003c\u003c endl; } return 0; } void Print(int x, int y) { if(x == 0 \u0026\u0026 y == 0) { return; } State tmp = pAns[x][y]; Print(tmp.x, tmp.y); if(tmp.k == 1) { cout \u003c\u003c tmp.y + 1 \u003c\u003c \" \"; } } è¿™é“é¢˜ç›®ä¸€å¼€å§‹ WA äº†å¥½å‡ æ¬¡ï¼Œåæ¥å‘ç°æ˜¯æ²¡æœ‰å‘ç°é­…åŠ›å€¼ä¸ºè´Ÿæ•°çš„æ—¶å€™ï¼ŒæŠŠ $f$ æ•°ç»„åˆå§‹åŒ–ä¸º 0 ä¼šå¯¼è‡´é”™è¯¯ç­”æ¡ˆã€‚\n","wordCount":"1111","inLanguage":"en","datePublished":"2015-02-24T13:13:00+08:00","dateModified":"2015-02-24T13:13:00+08:00","author":{"@type":"Person","name":"Kai Wang"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://kwang.life/2015/02/sgu-104-little-shop-of-flowers/"},"publisher":{"@type":"Organization","name":"é€€æ€è½©","logo":{"@type":"ImageObject","url":"https://kwang.life/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://kwang.life accesskey=h title="é€€æ€è½© (Alt + H)"><img src=https://kwang.life/apple-touch-icon.png alt aria-label=logo height=35>é€€æ€è½©</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://kwang.life/ title=ğŸ é¦–é¡µ><span>ğŸ é¦–é¡µ</span></a></li><li><a href=https://kwang.life/archives/ title=ğŸ“”å½’æ¡£><span>ğŸ“”å½’æ¡£</span></a></li><li><a href=https://kwang.life/tags/ title=ğŸ·ï¸æ ‡ç­¾><span>ğŸ·ï¸æ ‡ç­¾</span></a></li><li><a href=https://kwang.life/search/ title="ğŸ”æœç´¢ (Alt + /)" accesskey=/><span>ğŸ”æœç´¢</span></a></li><li><a href=https://kwang.life/categories/ title=ğŸ—‚ï¸åˆ†ç±»><span>ğŸ—‚ï¸åˆ†ç±»</span></a></li><li><a href=https://kwang.life/friends/ title=ğŸŒé‚»å±…><span>ğŸŒé‚»å±…</span></a></li><li><a href=https://kwang.life/about/ title=ğŸ“œå…³äº><span>ğŸ“œå…³äº</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>SGU 104 - Little shop of flowers</h1><div class=post-meta><span title='2015-02-24 13:13:00 +0800 +0800'>2015å¹´2æœˆ24æ—¥</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;1111 words&nbsp;Â·&nbsp;Kai Wang&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/2015/SGU%20104%20-%20Little%20shop%20of%20flowers.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#description aria-label=Description>Description</a></li><li><a href=#input aria-label=Input>Input</a></li><li><a href=#output aria-label=Output>Output</a></li><li><a href=#sample-input aria-label="Sample Input">Sample Input</a></li><li><a href=#sample-output aria-label="Sample Output">Sample Output</a></li><li><a href=#analysis aria-label=Analysis>Analysis</a></li><li><a href=#solution aria-label=Solution>Solution</a></li></ul></div></details></div><div class=post-content><h2 id=description>Description<a hidden class=anchor aria-hidden=true href=#description>#</a></h2><p>You want to arrange the window of your flower shop in a most pleasant way. You have $F$ bunches of flowers, each being of a different kind, and at least as many vases ordered in a row. The vases are glued onto the shelf and are numbered consecutively 1 through $V$, where $V$ is the number of vases, from left to right so that the vase 1 is the leftmost, and the vase $V$ is the rightmost vase. The bunches are moveable and are uniquely identified by integers between 1 and $F$. These id-numbers have a significance: They determine the required order of appearance of the flower bunches in the row of vases so that the bunch i must be in a vase to the left of the vase containing bunch $j$ whenever $i &lt; j$.</p><p>Suppose, for example, you have bunch of azaleas (id-number=1), a bunch of begonias (id-number=2) and a bunch of carnations (id-number=3). Now, all the bunches must be put into the vases keeping their id-numbers in order. The bunch of azaleas must be in a vase to the left of begonias, and the bunch of begonias must be in a vase to the left of carnations. If there are more vases than bunches of flowers then the excess will be left empty. A vase can hold only one bunch of flowers.</p><p>Each vase has a distinct characteristic (just like flowers do). Hence, putting a bunch of flowers in a vase results in a certain aesthetic value, expressed by an integer. The aesthetic values are presented in a table as shown below. Leaving a vase empty has an aesthetic value of 0.</p><table><thead><tr><th style=text-align:center></th><th style=text-align:center></th><th style=text-align:center>VASES</th><th style=text-align:center></th><th style=text-align:center></th><th style=text-align:center></th><th style=text-align:center></th></tr></thead><tbody><tr><td style=text-align:center></td><td style=text-align:center></td><td style=text-align:center>1</td><td style=text-align:center>2</td><td style=text-align:center>3</td><td style=text-align:center>4</td><td style=text-align:center>5</td></tr><tr><td style=text-align:center>Bunches</td><td style=text-align:center>1 (azaleas)</td><td style=text-align:center>7</td><td style=text-align:center>23</td><td style=text-align:center>-5</td><td style=text-align:center>-24</td><td style=text-align:center>16</td></tr><tr><td style=text-align:center></td><td style=text-align:center>2 (begonias)</td><td style=text-align:center>5</td><td style=text-align:center>21</td><td style=text-align:center>-4</td><td style=text-align:center>10</td><td style=text-align:center>23</td></tr><tr><td style=text-align:center></td><td style=text-align:center>3 (carnations)</td><td style=text-align:center>-21</td><td style=text-align:center>5</td><td style=text-align:center>-4</td><td style=text-align:center>-20</td><td style=text-align:center>20</td></tr></tbody></table><p>According to the table, azaleas, for example, would look great in vase 2, but they would look awful in vase 4.</p><p>To achieve the most pleasant effect you have to maximize the sum of aesthetic values for the arrangement while keeping the required ordering of the flowers. If more than one arrangement has the maximal sum value, any one of them will be acceptable. You have to produce exactly one arrangement.</p><p>$1\leq F\leq 100$ where $F$ is the number of the bunches of flowers. The bunches are numbered 1 through $F$.</p><p>$F\leq V\leq 100$ where $V$ is the number of vases.</p><p>$-50\leq A_{i,j}\leq 50$ where $A_{i,j}$ is the aesthetic value obtained by putting the flower bunch $i$ into the vase $j$.</p><h2 id=input>Input<a hidden class=anchor aria-hidden=true href=#input>#</a></h2><p>The first line contains two numbers: $F$, $V$.</p><p>The following $F$ lines: Each of these lines contains $V$ integers, so that $A_{i,j}$ is given as the $j$&lsquo;th number on the $(i+1)$&lsquo;st line of the input file.</p><h2 id=output>Output<a hidden class=anchor aria-hidden=true href=#output>#</a></h2><p>The first line will contain the sum of aesthetic values for your arrangement.</p><p>The second line must present the arrangement as a list of $F$ numbers, so that the $k$&lsquo;th number on this line identifies the vase in which the bunch $k$ is put.</p><h2 id=sample-input>Sample Input<a hidden class=anchor aria-hidden=true href=#sample-input>#</a></h2><pre tabindex=0><code>3 5
7 23 -5 -24 16
5 21 -4 10 23
-21 5 -4 -20 20
</code></pre><h2 id=sample-output>Sample Output<a hidden class=anchor aria-hidden=true href=#sample-output>#</a></h2><pre tabindex=0><code>53
2 4 5
</code></pre><h2 id=analysis>Analysis<a hidden class=anchor aria-hidden=true href=#analysis>#</a></h2><p>ç»å…¸çš„åŠ¨æ€è§„åˆ’é¢˜ã€‚æˆ‘ä»¬ä»¤ $f[i][j]$ è¡¨ç¤ºå‰ $i$ æŸèŠ±æ”¾åˆ°å‰ $j$ ä¸ªèŠ±ç“¶ä¸­è·å¾—çš„æœ€å¤§çš„é­…åŠ›å€¼ã€‚</p><p>ç”±äºèŠ±æŸå¿…é¡»æŒ‰ç¼–å·é€’å¢å®‰æ’ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š$$ f[i][j] = \max{\left(f[i][j - 1], f[i - 1][j - 1] + \mathrm{pData}[i][j]\right)}$$ å³ $f[i][j]$ è¿™ä¸ªçŠ¶æ€å¯ä»¥ç”± $f[i][j - 1]$ï¼ˆç¬¬ $i$ æŸèŠ±ä¸æ”¾åœ¨ç¬¬ $j$ ä¸ªèŠ±ç“¶é‡Œï¼‰ä»¥åŠ $f[i - 1][j - 1]$ï¼ˆç¬¬ $i$ æŸèŠ±æ”¾åœ¨ç¬¬ $j$ ä¸ªèŠ±ç“¶é‡Œï¼‰è½¬ç§»è¿‡æ¥ã€‚</p><p>è¿™é“é¢˜ç›®è¿˜éœ€è¦è¾“å‡ºæ–¹æ¡ˆï¼Œæˆ‘ä»¬éœ€è¦è®°å½•è½¬ç§»è¿‡ç¨‹ã€‚æˆ‘çš„æ–¹æ³•æ˜¯ä»¤ä¸€ä¸ªç»“æ„ä½“ï¼Œä¿å­˜å®ƒæ˜¯ç”±é‚£ä¸ªçŠ¶æ€è½¬ç§»è¿‡æ¥çš„ï¼Œå¹¶ä¸”æ˜¯å¦æ”¾ç½®äº†èŠ±æŸã€‚è¾“å‡ºæ–¹æ¡ˆçš„æ—¶å€™é€’å½’è¾“å‡ºå³å¯ã€‚</p><p>è¿˜æœ‰ä¸€ä¸ªæ³¨æ„ç‚¹ï¼Œé¢˜ç›®ä¸­çš„é­…åŠ›å€¼å¯èƒ½ä¸ºè´Ÿæ•°ã€‚è¿™ä¸ºæˆ‘ä»¬åˆå§‹åŒ– $f$ æ•°ç»„çš„æ—¶å€™å¸¦æ¥äº†é—®é¢˜ã€‚</p><p>æˆ‘é€‰æ‹©çš„è§£å†³æ–¹æ¡ˆæ˜¯æŠŠé­…åŠ›å€¼åŠ ä¸Šä¸€ä¸ªåç§»é‡ 100ï¼Œä¿è¯äº†é­…åŠ›å€¼ä¸ºæ­£æ•°ï¼Œç„¶åæŠŠ $f$ æ•°ç»„å…¨éƒ¨ç½®ä¸º 0ï¼Œè¾“å‡ºçš„æ—¶å€™æŠŠé­…åŠ›å€¼å‡å» $100\times F$ å³å¯ã€‚</p><h2 id=solution>Solution<a hidden class=anchor aria-hidden=true href=#solution>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;memory.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span> 
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>MAX</span> <span class=o>=</span> <span class=mi>128</span><span class=p>;</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=k>struct</span> <span class=nc>State</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>State</span><span class=p>(</span><span class=kt>int</span> <span class=n>_x</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=kt>int</span> <span class=n>_y</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=kt>int</span> <span class=n>_k</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span> <span class=n>x</span> <span class=o>=</span> <span class=n>_x</span><span class=p>;</span> <span class=n>y</span> <span class=o>=</span> <span class=n>_y</span><span class=p>;</span> <span class=n>k</span> <span class=o>=</span> <span class=n>_k</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>k</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>f</span><span class=p>[</span><span class=n>MAX</span><span class=p>][</span><span class=n>MAX</span><span class=p>],</span> <span class=n>pData</span><span class=p>[</span><span class=n>MAX</span><span class=p>][</span><span class=n>MAX</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>State</span> <span class=n>pAns</span><span class=p>[</span><span class=n>MAX</span><span class=p>][</span><span class=n>MAX</span><span class=p>];</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>Print</span><span class=p>(</span><span class=kt>int</span> <span class=n>x</span><span class=p>,</span> <span class=kt>int</span> <span class=n>y</span><span class=p>);</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ios</span><span class=o>::</span><span class=n>sync_with_stdio</span><span class=p>(</span><span class=nb>false</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>F</span><span class=p>,</span> <span class=n>V</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>F</span> <span class=o>&gt;&gt;</span> <span class=n>V</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>memset</span><span class=p>(</span><span class=n>f</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>f</span><span class=p>));</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>F</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;=</span> <span class=n>V</span><span class=p>;</span> <span class=n>j</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>pData</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>];</span>
</span></span><span class=line><span class=cl>                <span class=n>pData</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>100</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>F</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;=</span> <span class=n>V</span><span class=p>;</span> <span class=n>j</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=n>f</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>f</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>][</span><span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>+</span> <span class=n>pData</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>])</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>f</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>f</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>][</span><span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>+</span> <span class=n>pData</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>];</span>
</span></span><span class=line><span class=cl>                    <span class=n>pAns</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>State</span><span class=p>(</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=k>else</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>f</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>f</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>                    <span class=n>pAns</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>State</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>f</span><span class=p>[</span><span class=n>F</span><span class=p>][</span><span class=n>V</span><span class=p>]</span> <span class=o>-</span> <span class=mi>100</span> <span class=o>*</span> <span class=n>F</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>Print</span><span class=p>(</span><span class=n>F</span><span class=p>,</span> <span class=n>V</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>Print</span><span class=p>(</span><span class=kt>int</span> <span class=n>x</span><span class=p>,</span> <span class=kt>int</span> <span class=n>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>x</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>y</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span> <span class=k>return</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>State</span> <span class=n>tmp</span> <span class=o>=</span> <span class=n>pAns</span><span class=p>[</span><span class=n>x</span><span class=p>][</span><span class=n>y</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=n>Print</span><span class=p>(</span><span class=n>tmp</span><span class=p>.</span><span class=n>x</span><span class=p>,</span> <span class=n>tmp</span><span class=p>.</span><span class=n>y</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>tmp</span><span class=p>.</span><span class=n>k</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span> <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>tmp</span><span class=p>.</span><span class=n>y</span> <span class=o>+</span> <span class=mi>1</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; &#34;</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>è¿™é“é¢˜ç›®ä¸€å¼€å§‹ WA äº†å¥½å‡ æ¬¡ï¼Œåæ¥å‘ç°æ˜¯æ²¡æœ‰å‘ç°é­…åŠ›å€¼ä¸ºè´Ÿæ•°çš„æ—¶å€™ï¼ŒæŠŠ $f$ æ•°ç»„åˆå§‹åŒ–ä¸º 0 ä¼šå¯¼è‡´é”™è¯¯ç­”æ¡ˆã€‚</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://kwang.life/tags/acm-icpc/>ACM-ICPC</a></li><li><a href=https://kwang.life/tags/sgu/>SGU</a></li></ul><nav class=paginav><a class=prev href=https://kwang.life/2015/02/sgu-117-counting/><span class=title>Â« Prev</span><br><span>SGU 117 - Counting</span></a>
<a class=next href=https://kwang.life/2015/02/sgu-101-domino/><span class=title>Next Â»</span><br><span>SGU 101 - Domino</span></a></nav><div class=share-buttons></div></footer><div id=tcomment></div><script src=https://cdn.staticfile.org/twikoo/1.6.17/twikoo.all.min.js></script>
<script>twikoo.init({envId:'twikoo-5gwvo0qda499b637',el:'#tcomment'})</script></article></main><footer class=footer><span>&copy; 2023 <a href=https://kwang.life>é€€æ€è½©</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><a href="https://ipw.cn/ssl/?site=kwang.life" title=æœ¬ç«™æ”¯æŒSSLå®‰å…¨è®¿é—® target=_blank><img style=display:inline-block;vertical-align:middle alt=æœ¬ç«™æ”¯æŒSSLå®‰å…¨è®¿é—® src=https://static.ipw.cn/icon/ssl-s1.svg></a>
<a href="https://ipw.cn/ipv6webcheck/?site=kwang.life" title=æœ¬ç«™æ”¯æŒIPv6è®¿é—® target=_blank><img style=display:inline-block;vertical-align:middle alt=æœ¬ç«™æ”¯æŒIPv6è®¿é—® src=https://static.ipw.cn/icon/ipv6-certified-s1.svg></a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script><script>document.querySelectorAll('pre > code').forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement('button');e.classList.add('copy-code'),e.innerHTML='copy';function s(){e.innerHTML='copied!',setTimeout(()=>{e.innerHTML='copy'},2e3)}e.addEventListener('click',o=>{if('clipboard'in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand('copy'),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>
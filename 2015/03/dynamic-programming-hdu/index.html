<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Dynamic Programming - HDU | é€€æ€è½©</title><meta name=keywords content="ACM-ICPC,HDU"><meta name=description content="HDU 2955 è¿™æ˜¯ä¸€é“æ¦‚ç‡ DPï¼Œæˆ‘ç¬¬ä¸€æ¬¡çš„æƒ³æ³•æ˜¯æŠŠæ¦‚ç‡ $P$ ä¹˜ä»¥ 100ï¼Œå˜æˆä¸€ä¸ªèƒŒåŒ…ç„¶ååš 0/1 èƒŒåŒ…ï¼Œåæ¥å‘ç°è¿™æ ·åšæ˜¯é”™è¯¯çš„ã€‚ åŸå› ï¼šæ¦‚ç‡åº”è¯¥æ˜¯ç›¸ä¹˜ï¼Œè€Œä¸æ˜¯ç›¸åŠ ã€‚ åæ¥çœ‹äº†é¢˜è§£æƒ³åˆ°äº†å¦å¤–ä¸€ç§æ–¹æ³•ï¼Œä½¿ç”¨é€ƒè„±æ¦‚ç‡æ¥è®¡ç®—ï¼Œç”¨ $f[j]$ è¡¨ç¤ºå·èµ° $j$ ä»·å€¼åé€ƒè„±çš„æ¦‚ç‡ã€‚æ˜“çŸ¥ï¼Œå¤šæ¬¡é€ƒè„±æ¦‚ç‡ä¸ºæ¯æ¬¡é€ƒè„±æ¦‚ç‡ç›¸ä¹˜ã€‚è¿™é‡Œä¸ä½¿ç”¨è¢«é€®æ•çš„æ¦‚ç‡æ˜¯å› ä¸ºè¢«é€®æ•çš„æƒ…å†µæ¯”è¾ƒå¤æ‚ï¼ˆä¾‹å¦‚å·ç¬¬ä¸€ä»¶ç‰©å“ä¸è¢«é€®æ•ï¼Œå·ç¬¬äºŒä»¶ç‰©å“è¢«é€®æ•ï¼Œè¢«é€®æ•çš„æ¦‚ç‡åº”è¯¥ä¸ºå¤´ç¬¬ä¸€ä»¶ç‰©å“ä¸è¢«é€®æ•çš„æ¦‚ç‡ä¹˜ä»¥å·ç¬¬äºŒä»¶ç‰©å“ä¸è¢«é€®æ•çš„æ¦‚ç‡ã€‚ï¼‰ï¼Œè€Œå½“æˆ‘ä»¬è½¬è€Œè€ƒè™‘å®ƒçš„å¯¹ç«‹äº‹ä»¶â€”â€”é€ƒè„±æ—¶ï¼Œé—®é¢˜å°±ä¼šå˜å¾—å®¹æ˜“äº†ï¼Œ"><meta name=author content="Kai Wang"><link rel=canonical href=https://kwang.life/2015/03/dynamic-programming-hdu/><meta name=google-site-verification content="G-FVKQ0YJ3T3"><link crossorigin=anonymous href=/assets/css/stylesheet.f8e2f0abcd7b083f7ff51c3baa15dd0085ace9d921a5a4cf609cc9299ae84114.css integrity="sha256-+OLwq817CD9/9Rw7qhXdAIWs6dkhpaTPYJzJKZroQRQ=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://kwang.life/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=16x16 href=https://kwang.life/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://kwang.life/favicons/apple-touch-icon.png><link rel=apple-touch-icon href=https://kwang.life/favicons/apple-touch-icon.png><link rel=mask-icon href=https://kwang.life/favicons/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css integrity=sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js integrity=sha384-cpW21h6RZv/phavutF+AuVYrr+dA8xD9zs6FwLpaCct6O9ctzYFfFr4dgmgccOTx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:!0},{left:'$',right:'$',display:!1},{left:'\\(',right:'\\)',display:!1},{left:'\\[',right:'\\]',display:!0}],throwOnError:!1})})</script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"><script async src="https://www.googletagmanager.com/gtag/js?id=G-FVKQ0YJ3T3"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-FVKQ0YJ3T3',{anonymize_ip:!1})}</script><meta property="og:title" content="Dynamic Programming - HDU"><meta property="og:description" content="HDU 2955 è¿™æ˜¯ä¸€é“æ¦‚ç‡ DPï¼Œæˆ‘ç¬¬ä¸€æ¬¡çš„æƒ³æ³•æ˜¯æŠŠæ¦‚ç‡ $P$ ä¹˜ä»¥ 100ï¼Œå˜æˆä¸€ä¸ªèƒŒåŒ…ç„¶ååš 0/1 èƒŒåŒ…ï¼Œåæ¥å‘ç°è¿™æ ·åšæ˜¯é”™è¯¯çš„ã€‚ åŸå› ï¼šæ¦‚ç‡åº”è¯¥æ˜¯ç›¸ä¹˜ï¼Œè€Œä¸æ˜¯ç›¸åŠ ã€‚ åæ¥çœ‹äº†é¢˜è§£æƒ³åˆ°äº†å¦å¤–ä¸€ç§æ–¹æ³•ï¼Œä½¿ç”¨é€ƒè„±æ¦‚ç‡æ¥è®¡ç®—ï¼Œç”¨ $f[j]$ è¡¨ç¤ºå·èµ° $j$ ä»·å€¼åé€ƒè„±çš„æ¦‚ç‡ã€‚æ˜“çŸ¥ï¼Œå¤šæ¬¡é€ƒè„±æ¦‚ç‡ä¸ºæ¯æ¬¡é€ƒè„±æ¦‚ç‡ç›¸ä¹˜ã€‚è¿™é‡Œä¸ä½¿ç”¨è¢«é€®æ•çš„æ¦‚ç‡æ˜¯å› ä¸ºè¢«é€®æ•çš„æƒ…å†µæ¯”è¾ƒå¤æ‚ï¼ˆä¾‹å¦‚å·ç¬¬ä¸€ä»¶ç‰©å“ä¸è¢«é€®æ•ï¼Œå·ç¬¬äºŒä»¶ç‰©å“è¢«é€®æ•ï¼Œè¢«é€®æ•çš„æ¦‚ç‡åº”è¯¥ä¸ºå¤´ç¬¬ä¸€ä»¶ç‰©å“ä¸è¢«é€®æ•çš„æ¦‚ç‡ä¹˜ä»¥å·ç¬¬äºŒä»¶ç‰©å“ä¸è¢«é€®æ•çš„æ¦‚ç‡ã€‚ï¼‰ï¼Œè€Œå½“æˆ‘ä»¬è½¬è€Œè€ƒè™‘å®ƒçš„å¯¹ç«‹äº‹ä»¶â€”â€”é€ƒè„±æ—¶ï¼Œé—®é¢˜å°±ä¼šå˜å¾—å®¹æ˜“äº†ï¼Œ"><meta property="og:type" content="article"><meta property="og:url" content="https://kwang.life/2015/03/dynamic-programming-hdu/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-03-14T13:22:00+08:00"><meta property="article:modified_time" content="2015-03-14T13:22:00+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Dynamic Programming - HDU"><meta name=twitter:description content="HDU 2955 è¿™æ˜¯ä¸€é“æ¦‚ç‡ DPï¼Œæˆ‘ç¬¬ä¸€æ¬¡çš„æƒ³æ³•æ˜¯æŠŠæ¦‚ç‡ $P$ ä¹˜ä»¥ 100ï¼Œå˜æˆä¸€ä¸ªèƒŒåŒ…ç„¶ååš 0/1 èƒŒåŒ…ï¼Œåæ¥å‘ç°è¿™æ ·åšæ˜¯é”™è¯¯çš„ã€‚ åŸå› ï¼šæ¦‚ç‡åº”è¯¥æ˜¯ç›¸ä¹˜ï¼Œè€Œä¸æ˜¯ç›¸åŠ ã€‚ åæ¥çœ‹äº†é¢˜è§£æƒ³åˆ°äº†å¦å¤–ä¸€ç§æ–¹æ³•ï¼Œä½¿ç”¨é€ƒè„±æ¦‚ç‡æ¥è®¡ç®—ï¼Œç”¨ $f[j]$ è¡¨ç¤ºå·èµ° $j$ ä»·å€¼åé€ƒè„±çš„æ¦‚ç‡ã€‚æ˜“çŸ¥ï¼Œå¤šæ¬¡é€ƒè„±æ¦‚ç‡ä¸ºæ¯æ¬¡é€ƒè„±æ¦‚ç‡ç›¸ä¹˜ã€‚è¿™é‡Œä¸ä½¿ç”¨è¢«é€®æ•çš„æ¦‚ç‡æ˜¯å› ä¸ºè¢«é€®æ•çš„æƒ…å†µæ¯”è¾ƒå¤æ‚ï¼ˆä¾‹å¦‚å·ç¬¬ä¸€ä»¶ç‰©å“ä¸è¢«é€®æ•ï¼Œå·ç¬¬äºŒä»¶ç‰©å“è¢«é€®æ•ï¼Œè¢«é€®æ•çš„æ¦‚ç‡åº”è¯¥ä¸ºå¤´ç¬¬ä¸€ä»¶ç‰©å“ä¸è¢«é€®æ•çš„æ¦‚ç‡ä¹˜ä»¥å·ç¬¬äºŒä»¶ç‰©å“ä¸è¢«é€®æ•çš„æ¦‚ç‡ã€‚ï¼‰ï¼Œè€Œå½“æˆ‘ä»¬è½¬è€Œè€ƒè™‘å®ƒçš„å¯¹ç«‹äº‹ä»¶â€”â€”é€ƒè„±æ—¶ï¼Œé—®é¢˜å°±ä¼šå˜å¾—å®¹æ˜“äº†ï¼Œ"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://kwang.life/posts/"},{"@type":"ListItem","position":3,"name":"Dynamic Programming - HDU","item":"https://kwang.life/2015/03/dynamic-programming-hdu/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Dynamic Programming - HDU","name":"Dynamic Programming - HDU","description":"HDU 2955 è¿™æ˜¯ä¸€é“æ¦‚ç‡ DPï¼Œæˆ‘ç¬¬ä¸€æ¬¡çš„æƒ³æ³•æ˜¯æŠŠæ¦‚ç‡ $P$ ä¹˜ä»¥ 100ï¼Œå˜æˆä¸€ä¸ªèƒŒåŒ…ç„¶ååš 0/1 èƒŒåŒ…ï¼Œåæ¥å‘ç°è¿™æ ·åšæ˜¯é”™è¯¯çš„ã€‚ åŸå› ï¼šæ¦‚ç‡åº”è¯¥æ˜¯ç›¸ä¹˜ï¼Œè€Œä¸æ˜¯ç›¸åŠ ã€‚ åæ¥çœ‹äº†é¢˜è§£æƒ³åˆ°äº†å¦å¤–ä¸€ç§æ–¹æ³•ï¼Œä½¿ç”¨é€ƒè„±æ¦‚ç‡æ¥è®¡ç®—ï¼Œç”¨ $f[j]$ è¡¨ç¤ºå·èµ° $j$ ä»·å€¼åé€ƒè„±çš„æ¦‚ç‡ã€‚æ˜“çŸ¥ï¼Œå¤šæ¬¡é€ƒè„±æ¦‚ç‡ä¸ºæ¯æ¬¡é€ƒè„±æ¦‚ç‡ç›¸ä¹˜ã€‚è¿™é‡Œä¸ä½¿ç”¨è¢«é€®æ•çš„æ¦‚ç‡æ˜¯å› ä¸ºè¢«é€®æ•çš„æƒ…å†µæ¯”è¾ƒå¤æ‚ï¼ˆä¾‹å¦‚å·ç¬¬ä¸€ä»¶ç‰©å“ä¸è¢«é€®æ•ï¼Œå·ç¬¬äºŒä»¶ç‰©å“è¢«é€®æ•ï¼Œè¢«é€®æ•çš„æ¦‚ç‡åº”è¯¥ä¸ºå¤´ç¬¬ä¸€ä»¶ç‰©å“ä¸è¢«é€®æ•çš„æ¦‚ç‡ä¹˜ä»¥å·ç¬¬äºŒä»¶ç‰©å“ä¸è¢«é€®æ•çš„æ¦‚ç‡ã€‚ï¼‰ï¼Œè€Œå½“æˆ‘ä»¬è½¬è€Œè€ƒè™‘å®ƒçš„å¯¹ç«‹äº‹ä»¶â€”â€”é€ƒè„±æ—¶ï¼Œé—®é¢˜å°±ä¼šå˜å¾—å®¹æ˜“äº†ï¼Œ","keywords":["ACM-ICPC","HDU"],"articleBody":"HDU 2955 è¿™æ˜¯ä¸€é“æ¦‚ç‡ DPï¼Œæˆ‘ç¬¬ä¸€æ¬¡çš„æƒ³æ³•æ˜¯æŠŠæ¦‚ç‡ $P$ ä¹˜ä»¥ 100ï¼Œå˜æˆä¸€ä¸ªèƒŒåŒ…ç„¶ååš 0/1 èƒŒåŒ…ï¼Œåæ¥å‘ç°è¿™æ ·åšæ˜¯é”™è¯¯çš„ã€‚\nåŸå› ï¼šæ¦‚ç‡åº”è¯¥æ˜¯ç›¸ä¹˜ï¼Œè€Œä¸æ˜¯ç›¸åŠ ã€‚\nåæ¥çœ‹äº†é¢˜è§£æƒ³åˆ°äº†å¦å¤–ä¸€ç§æ–¹æ³•ï¼Œä½¿ç”¨é€ƒè„±æ¦‚ç‡æ¥è®¡ç®—ï¼Œç”¨ $f[j]$ è¡¨ç¤ºå·èµ° $j$ ä»·å€¼åé€ƒè„±çš„æ¦‚ç‡ã€‚æ˜“çŸ¥ï¼Œå¤šæ¬¡é€ƒè„±æ¦‚ç‡ä¸ºæ¯æ¬¡é€ƒè„±æ¦‚ç‡ç›¸ä¹˜ã€‚è¿™é‡Œä¸ä½¿ç”¨è¢«é€®æ•çš„æ¦‚ç‡æ˜¯å› ä¸ºè¢«é€®æ•çš„æƒ…å†µæ¯”è¾ƒå¤æ‚ï¼ˆä¾‹å¦‚å·ç¬¬ä¸€ä»¶ç‰©å“ä¸è¢«é€®æ•ï¼Œå·ç¬¬äºŒä»¶ç‰©å“è¢«é€®æ•ï¼Œè¢«é€®æ•çš„æ¦‚ç‡åº”è¯¥ä¸ºå¤´ç¬¬ä¸€ä»¶ç‰©å“ä¸è¢«é€®æ•çš„æ¦‚ç‡ä¹˜ä»¥å·ç¬¬äºŒä»¶ç‰©å“ä¸è¢«é€®æ•çš„æ¦‚ç‡ã€‚ï¼‰ï¼Œè€Œå½“æˆ‘ä»¬è½¬è€Œè€ƒè™‘å®ƒçš„å¯¹ç«‹äº‹ä»¶â€”â€”é€ƒè„±æ—¶ï¼Œé—®é¢˜å°±ä¼šå˜å¾—å®¹æ˜“äº†ï¼Œå› ä¸ºé€ƒè„±çš„æ¦‚ç‡æ°¸è¿œæ˜¯ç›¸ä¹˜çš„ã€‚\næ›´ä¸ºä¸¥æ ¼çš„è¯´æ³•æ˜¯è¿™æ ·çš„ï¼šè®¾è¢«ç¬¬ $i$ ä¸ªé“¶è¡Œé€®æ•çš„äº‹ä»¶ä¸º $P_i$ï¼Œé‚£ä¹ˆ $1-\\sum{P_i}$ å°±æ˜¯è‡³å°‘è¢«ä¸€ä¸ªé“¶è¡Œé€®æ•çš„æ¦‚ç‡ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€éœ€è¦æ±‚çš„è¢«é€®æ•çš„æ¦‚ç‡ã€‚é€šè¿‡è¿™æ ·çš„æ•°å­¦ä¸Šçš„è¯´ç†ï¼Œæˆ‘ä»¬å¯ä»¥è¯æ˜è¿™ä¸€ç®—æ³•æ˜¯æ­£ç¡®çš„ã€‚\nç”±äºè¦è®¡ç®—é€ƒè„±æ¦‚ç‡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯»å…¥çš„æ—¶å€™å°±æŠŠå¯èƒ½è¢«é€®æ•çš„æ¦‚ç‡ $P$ å˜æˆå¯èƒ½é€ƒè„±çš„æ¦‚ç‡ $1 - P$ã€‚è¿™æ ·ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$ f[j] = \\max{\\left\\{f[j - \\mathrm{pValue}[i]] \\times \\mathrm{pCost}[i], f[j]\\right\\}}$$ å…¶ä¸­ $\\mathrm{pValue}[i]$ è¡¨ç¤ºç¬¬ $i$ ä¸ªé“¶è¡Œçš„ä»·å€¼ï¼Œ$\\mathrm{pCost}[i]$ è¡¨ç¤ºå·ç¬¬ $i$ ä¸ªé“¶è¡Œé€ƒè„±çš„æ¦‚ç‡ã€‚\nè¿™æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘ä¸€ä¸ªè½¬ç§»æ¡ä»¶ï¼Œå¦‚æœ $f[j - \\mathrm{pValue}[i]]$ æ²¡æœ‰è¢«æ›´æ–°è¿‡ï¼Œé‚£ä¹ˆæ˜¯ä¸èƒ½è½¬ç§»è¿‡æ¥çš„ã€‚å› ä¸ºæš‚æ—¶æ²¡æœ‰ä¸€ä¸ªçŠ¶æ€å¯ä»¥å·åˆ° $j - \\mathrm{pValue}[i]$ ä»·å€¼çš„ç‰©å“ã€‚\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦è€ƒè™‘ä¸€ä¸‹åˆå§‹æ¡ä»¶ï¼Œå¾ˆæ˜¾ç„¶ $f[0] = 1$ï¼Œå› ä¸ºä¸å·ä»»ä½•ä¸œè¥¿ï¼Œå°±ä¸ä¼šè¢«é€®æ•ï¼Œé€ƒè„±çš„æ¦‚ç‡å°±ä¸º 1ã€‚å…¶ä½™ $f[j] = -1$ï¼Œå…¶ä¸­ $j \\neq 0$ï¼Œè¡¨ç¤ºæš‚æ—¶æ²¡æœ‰ä¸€ä¸ªçŠ¶æ€å¯ä»¥å·åˆ° $j$ ä»·å€¼çš„ç‰©å“ã€‚\næœ€åæ‰«ä¸€é $f[j]$ï¼Œæ»¡è¶³ $1 - f[j] \\leq P$ çš„æœ€å¤§ä¸‹æ ‡ $j$ ä¸ºæ»¡è¶³é¢˜è®¾æ¡ä»¶çš„ç­”æ¡ˆã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 #include #include using namespace std; const int MAX = 10240; int pValue[MAX]; double pCost[MAX], f[MAX]; int main() { int T, M, V; double P; cin \u003e\u003e T; for(int k = 1; k \u003c= T; k++) { f[0] = 1; V = 0; for(int i = 1; i \u003c MAX; i++) { f[i] = -1; } cin \u003e\u003e P \u003e\u003e M; for(int i = 1; i \u003c= M; i++) { cin \u003e\u003e pValue[i] \u003e\u003e pCost[i]; pCost[i] = 1 - pCost[i]; V += pValue[i]; } for(int i = 1; i \u003c= M; i++) { for(int j = V; j \u003e= pValue[i]; j--) { if(f[j - pValue[i]] != -1) { f[j] = max(f[j - pValue[i]] * pCost[i], f[j]); } } } int ans = 0; for(int i = 0; i \u003c= V; i++) { if(1 - f[i] \u003c= P) { ans = i; } } cout \u003c\u003c ans \u003c\u003c endl; } return 0; } æ¥è§¦çš„ç¬¬ä¸€é“æ¦‚ç‡DPï¼Œå‘ç°DPéå¸¸çš„çµæ´»ï¼Œè‡ªå·±è¿˜æœ‰å¾ˆå¤šä¸œè¥¿è¦å­¦ã€‚ @ 2015å¹´3æœˆ14æ—¥\nHDU 1864 è¿™æ˜¯ä¸€é“è¾ƒä¸ºå…¸å‹çš„ 0/1 èƒŒåŒ…ï¼Œä½†æ˜¯ç‰©å“çš„ä»·å€¼å’Œè´¹ç”¨éƒ½éœ€è¦è‡ªå·±å¤„ç†å‡ºæ¥ã€‚éœ€è¦æ³¨æ„ä¸€ä¸‹åªèƒ½æŠ¥é”€ Aã€Bã€C ç±»çš„å‘ç¥¨ã€‚åªè¦æœ‰ä¸€ä¸ªæ¡ä»¶ä¸æˆç«‹ï¼Œå°±ä¸æŠ¥é”€è¯¥å‘ç¥¨ã€‚\nè¾“å…¥ä¸¤ä½å°æ•°çš„æ—¶å€™ï¼ŒæŠŠå®ƒä¹˜ä»¥ 100ï¼Œåš 0/1 èƒŒåŒ…å°±å¯ä»¥äº†ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$f[j] = \\max{\\left\\{f[j - \\mathrm{pValue}[i]] + \\mathrm{pCost}[i], f[j]\\right\\}}$$ æ•°æ®æ–¹é¢å¯èƒ½è¾“å…¥çš„æ—¶å€™æ²¡æœ‰ç»™å‡ºå°æ•°éƒ¨åˆ†ï¼Œæ¯”å¦‚ç›´æ¥è¾“å…¥ 100ï¼Œè€Œä¸æ˜¯ 100.00ã€‚ä½†æ˜¯é¢˜ç›®ä¸­æ²¡æœ‰ç»™å‡ºæŠ¥é”€é™é¢çš„æ•°æ®èŒƒå›´ï¼Œå¼€åˆ° 3000000 å°±å¯ä»¥äº†ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 #include #include #include using namespace std; const int MAX = 3840000; int pHash[32]; int f[MAX], pValue[MAX], pCost[MAX]; int main() { int N, M, V, nCnt; string strTmp; double Q; while(cin \u003e\u003e Q \u003e\u003e N \u0026\u0026 N) { V = Q * 100; nCnt = 0; memset(f, 0, sizeof(f)); for(int i = 1; i \u003c= N; i++) { int nSum = 0; bool bFlag = true; cin \u003e\u003e M; memset(pHash, 0, sizeof(pHash)); for(int j = 1; j \u003c= M; j++) { cin \u003e\u003e strTmp; pHash[strTmp[0] - 'A'] += atof(strTmp.substr(2, strTmp.length() - 2).c_str()) * 100; } for(int j = 0; j \u003c 32; j++) { if(j \u003e= 3 \u0026\u0026 pHash[j]) { bFlag = false; } nSum += pHash[j]; if(pHash[j] \u003e 60000) { bFlag = false;} } if(nSum \u003e 100000) { bFlag = false; } if(bFlag) { nCnt++; pValue[nCnt] = pCost[nCnt] = nSum; } } for(int i = 1; i \u003c= nCnt; i++) { for(int j = V; j \u003e= pCost[i]; j--) { f[j] = max(f[j - pCost[i]] + pValue[i], f[j]); } } int ans = 0; for(int i = 0; i \u003c= V; i++) { ans = max(ans, f[i]); } cout \u003c\u003c ans / 100 \u003c\u003c \".\"; if(ans % 100 \u003c 10 ) { cout \u003c\u003c \"0\"; } cout \u003c\u003c ans % 100 \u003c\u003c endl; } return 0; } è¿™é“é¢˜ç›®ç¬¬ä¸€æ¬¡ Hash è¡¨çš„èŒƒå›´ä¸º 32ï¼Œè®¿é—®åˆ°äº† MAXï¼Œæ‰€ä»¥å¯¼è‡´äº† Runtime Errorã€‚ @ 2015å¹´3æœˆ14æ—¥\nHDU 1231 è¿™é“é¢˜ç›®æœ‰ä¸€ç§è´ªå¿ƒçš„åšæ³•ï¼Œæ‰«ä¸€é $\\mathrm{pData[i]}$ æ±‚å’Œï¼ˆSum += pData[i]ï¼‰ï¼Œå¦‚æœé‡åˆ°å½“å‰å’Œ $\\mathrm{Sum}$ å°äº 0 çš„æ—¶å€™ï¼Œå°±æ›´æ–°ç­”æ¡ˆï¼Œå¹¶ä¸”æŠŠå½“å‰ç´¯åŠ çš„å’Œç½®ä¸ºå½“å‰éå†åˆ°çš„æ•°å­— $\\mathrm{pData}[i]$ã€‚\nè¿˜ä¼šæœ‰ä¸€ç§åŠ¨æ€è§„åˆ’çš„æ–¹æ³•ï¼š$$f[i] = \\max{\\left\\{f[i - 1] + \\mathrm{pData}[i], \\mathrm{pData}[i]\\right\\}}$$ æ¯æ¬¡æ›´æ–°ä»¥åéƒ½è¦æ›´æ–°ç­”æ¡ˆã€‚éœ€è¦æ³¨æ„ï¼Œå¦‚æœæœ€åæœ€å¤§çš„å’Œè¿˜æ˜¯è´Ÿæ•°çš„è¯ï¼Œåˆ™è¾“å‡º 0 ä»¥åŠæ•°æ®çš„é¦–å°¾ä¸¤ä¸ªå…ƒç´ ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 #include #include using namespace std; const int MAX = 10240; int l, r, ans, al, ar; int pData[MAX], f[MAX]; int main() { ios::sync_with_stdio(false); int K; while(cin \u003e\u003e K) { if(K == 0) { break; } for(int i = 1; i \u003c= K; i++) { cin \u003e\u003e pData[i]; } l = r = al = ar = 1; ans = pData[1]; memset(f, 0, sizeof(f)); for(int i = 1; i \u003c= K; i++) { if(f[i - 1] + pData[i] \u003e pData[i]) { f[i] = f[i - 1] + pData[i]; r = i; } else { f[i] = pData[i]; l = r = i; } if(f[i] \u003e ans) { ans = f[i]; al = l; ar = r; } } if(ans \u003e= 0) { cout \u003c\u003c ans \u003c\u003c \" \" \u003c\u003c pData[al] \u003c\u003c \" \" \u003c\u003c pData[ar] \u003c\u003c endl; } else { cout \u003c\u003c 0 \u003c\u003c \" \" \u003c\u003c pData[1] \u003c\u003c \" \" \u003c\u003c pData[K] \u003c\u003c endl; } } return 0; } ä»¥å‰å¤„ç†è¿™ç±»é¢˜ç›®çš„æ—¶å€™éƒ½æ˜¯ä½¿ç”¨è´ªå¿ƒçš„æ–¹æ³•ï¼Œä»Šå¤©çœ‹åˆ°åŠ¨æ€è§„åˆ’çš„æ–¹æ³•ï¼Œä½¿å¾—å¯¹äºä»¥å‰è´ªå¿ƒçš„æ–¹æ³•æœ‰äº†æ›´æ·±åˆ»çš„ç†è§£ã€‚è¿™ä¸¤ç§æ–¹æ³•çš„æœ¬è´¨æ€æƒ³æ˜¯ç›¸åŒçš„ã€‚ @ 2015å¹´3æœˆ14æ—¥\nHDU 1003 è¿™é“é¢˜ç›®ä¸Šé¢ä¸€é“é¢˜ç›®æ˜¯å·®ä¸å¤šçš„ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$f[i] = \\max{\\left\\{f[i - 1] + \\mathrm{pData}[i], \\mathrm{pData}[i]\\right\\}}$$ å”¯ä¸€çš„ä¸€ä¸ªåŒºåˆ«æ˜¯çŠ¶æ€è½¬ç§»çš„æ—¶å€™å¹¶ä¸èƒ½ä¸¥æ ¼å¤§äºï¼Œå› ä¸ºå®ƒè¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªï¼Œå› æ­¤å·¦ç«¯ç‚¹ä¸€å®šæ˜¯è¶Šå°è¶Šå¥½ã€‚\nå¦‚æœä½¿ç”¨ä¸¥æ ¼å¤§äºçš„è¯ï¼Œå‡è®¾å‰é¢æœ‰ $X$ ä¸ªæ•°åŠ èµ·æ¥ç­‰äº 0ï¼Œå®ƒå¹¶ä¸å½±å“æœ€ç»ˆå’Œçš„ç­”æ¡ˆï¼Œä½†æ˜¯å´ä½¿å¾—æ±‚å‡ºçš„ç­”æ¡ˆä¸æ˜¯ç¬¬ä¸€ä¸ªäº†ã€‚\nå…¶ä½™çš„ä»£ç å’Œä¸Šé¢ä¸€é“é¢˜ç›®æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ï¼Œæ³¨æ„ä¸€ä¸‹è¾“å‡ºæ ¼å¼ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 #include #include using namespace std; const int MAX = 102400; int l, r, ans, al, ar; int pData[MAX], f[MAX]; int main() { ios::sync_with_stdio(false); int K, N; while(cin \u003e\u003e K) { for(int i = 1; i \u003c= K; i++) { cin \u003e\u003e N; for(int j = 1; j \u003c= N; j++) { cin \u003e\u003e pData[j]; } l = r = al = ar = 1; ans = pData[1]; memset(f, 0, sizeof(f)); for(int j = 1; j \u003c= N; j++) { if(f[j - 1] + pData[j] \u003e= pData[j]) // æ­¤å¤„ä¸ºéä¸¥æ ¼å¤§äº { f[j] = f[j - 1] + pData[j]; r = j; } else { f[j] = pData[j]; l = r = j; } if(f[j] \u003e ans) { ans = f[j]; al = l; ar = r; } } cout \u003c\u003c \"Case \" \u003c\u003c i \u003c\u003c \":\" \u003c\u003c endl; cout \u003c\u003c ans \u003c\u003c \" \" \u003c\u003c al \u003c\u003c \" \" \u003c\u003c ar \u003c\u003c endl; if(i != K) { cout \u003c\u003c endl; } } } return 0; } è¿™åˆ°é¢˜ç›®ä¸€å¼€å§‹æ˜¯ç”¨è´ªå¿ƒåšçš„ï¼Œä»Šå¤©é‡æ–°ç”¨åŠ¨æ€è§„åˆ’åšäº†ä¸€ä¸‹ã€‚ @ 2015å¹´3æœˆ14æ—¥\nHDU 1506 è¿™é“é¢˜ç›®ä»¥å‰ç”¨å•è°ƒæ ˆåšè¿‡ï¼Œå•è°ƒæ ˆçš„æ€è·¯å¦‚ä¸‹ï¼šä¸æ–­çš„å°†çŸ©å½¢å…¥æ ˆï¼Œå½“å½“å‰è¦åŠ å…¥çš„çŸ©å½¢çš„é«˜åº¦å¤§äºæ ˆé¡¶çš„çŸ©å½¢é«˜åº¦æ—¶ï¼Œå°†æ ˆé¡¶çš„çŸ©å½¢å‡ºæ ˆï¼Œä¸å½“å‰çš„çŸ©å½¢åˆæˆä¸€ä¸ªå¤§çš„çŸ©å½¢ï¼Œé«˜åº¦ä¸ºè¾ƒçŸ­çš„çŸ©å½¢çš„é«˜åº¦ã€‚ç„¶åæŠŠå’Œåˆæˆçš„æ–°çš„çŸ©å½¢åŠ å…¥æ ˆé¡¶ï¼Œå¹¶ä¸”æ›´æ–°ç­”æ¡ˆã€‚è¿™æ ·æ‰«ä¸€éå°±å¥½äº†ã€‚\nä¸‹é¢ä»‹ç»DPçš„æ€æƒ³ï¼šæˆ‘ä»¬é¦–å…ˆè€ƒè™‘è¿™æ ·ä¸€ä»¶äº‹æƒ…ï¼Œä¸€æ®µçŸ©å½¢çš„é¢ç§¯å–å†³äºçŸ©å½¢çš„ä¸ªæ•°ä»¥åŠæœ€çŸ®çš„çŸ©å½¢çš„é«˜åº¦ã€‚æˆ‘ä»¬å¯ä»¥æšä¸¾æ¯ä¸€ä¸ªçŸ©å½¢ï¼Œç„¶åå¾€å·¦å³ä¸¤è¾¹æšä¸¾è¿ç»­æ¯”å®ƒé«˜çš„çŸ©å½¢çš„æ€»ä¸ªæ•° $N$ï¼Œé‚£ä¹ˆå°±æ›´æ–°ç­”æ¡ˆã€‚\nä¸‹é¢å°±è¦è€ƒè™‘å¦‚ä½•å¿«é€Ÿçš„æ±‚å‡ºå·¦å³ä¸¤è¾¹è¿ç»­æ¯”å®ƒé«˜çš„çŸ©å½¢çš„æ€»ä¸ªæ•°ã€‚\næˆ‘ä»¬ä¸å¦¨è€ƒè™‘å·¦è¾¹çš„æƒ…å†µï¼Œç”¨ $\\mathrm{pLeft}[i]$ è¡¨ç¤ºç¬¬ $i$ ä¸ªçŸ©å½¢å·¦è¾¹è¿ç»­æ¯”å®ƒé«˜çš„çŸ©å½¢æœ€å·¦è¾¹çš„çŸ©å½¢çš„ç¼–å·ã€‚é‚£ä¹ˆå¦‚æœæˆ‘ä»¬æœ‰å¦å¤–ä¸€ä¸ªçŸ©å½¢ $j$ï¼Œå­˜åœ¨ $\\mathrm{pData}[j] \u003c \\mathrm{pData}[i]$ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°† $\\mathrm{pLeft}[j]$ ç½®ä¸º $\\mathrm{pLeft}[i]$ï¼Œç„¶åå†å¾€å·¦è¿­ä»£ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå·¦å³ä¸¤è¾¹éœ€è¦åˆ†å¼€è¿›è¡Œã€‚å› ä¸ºä»å·¦å¾€å³åªèƒ½ä¿è¯ $\\mathrm{pLeft}$ æ•°ç»„è¢«æ›´æ–°äº†ï¼Œå¯ä»¥è¿›è¡Œè¿­ä»£ï¼Œè€Œ $\\mathrm{pRight}$ åˆ™è¿˜æ˜¯ç±»ä¼¼ä¹‹å‰çš„æš´æœä¸€æ ·ï¼Œå¤æ‚åº¦å¾ˆé«˜ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†å·¦å³ä¸¤è¾¹åˆ†å¼€è¿­ä»£ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 #include const int MAX = 102400; long long pData[MAX], pLeft[MAX], pRight[MAX]; long long max(long long x, long long y); int main() { int N; long long ans; while(scanf(\"%I64d\", \u0026N) != EOF \u0026\u0026 N) { ans = 0; for(int i = 1; i \u003c= N; i++) { scanf(\"%I64d\", \u0026pData[i]); pLeft[i] = pRight[i] = i; } for(int i = 1; i \u003c= N; i++) { int nCur = i - 1; while(nCur \u003e= 1 \u0026\u0026 pData[i] \u003c= pData[nCur]) { pLeft[i] = pLeft[nCur]; nCur = pLeft[nCur] - 1; } } for(int i = N; i \u003e= 1; i--) { int nCur = i + 1; while(nCur \u003c= N \u0026\u0026 pData[i] \u003c= pData[nCur]) { pRight[i] = pRight[nCur]; nCur = pRight[nCur] + 1; } } for(int i = 1; i \u003c= N; i++) { ans = max(ans, pData[i] * (pRight[i] - pLeft[i] + 1)); } printf(\"%I64d\\n\", ans); } return 0; } long long max(long long x, long long y) { return x \u003e y ? x : y; } è¿™é“é¢˜ç›®æ²¡æœ‰ä¸¥æ ¼çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œåªæœ‰ä¸€ä¸ªçŠ¶æ€è½¬ç§»çš„æ€æƒ³ã€‚ @ 2015å¹´3æœˆ15æ—¥\nHDU 1505 è¿™é“é¢˜ç›®æ˜¯ä¸Šé¢ä¸€é“é¢˜ç›®çš„åŠ å¼ºç‰ˆï¼Œå˜æˆäº†ä¸€ä¸ªäºŒç»´çš„é—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·è½¬åŒ–ã€‚\næšä¸¾æ¯ä¸€è¡Œï¼Œæ¯ä¸€è¡Œä¸­çš„æ¯ä¸ªç‚¹å‘ä¸Šæœæœ‰ $X$ ä¸ªè¿ç»­çš„ â€˜Fâ€™ï¼Œå°±è¡¨ç¤ºè¿™ä¸ªç‚¹æ‰€è¡¨ç¤ºçš„çš„çŸ©å½¢çš„é«˜åº¦ä¸º $X$ï¼Œç„¶åæ¯ä¸€è¡Œä½¿ç”¨ä¸€æ¬¡ä¸Šä¸€é“é¢˜ç›®çš„åŠ¨æ€è§„åˆ’æ€æƒ³å³å¯ï¼Œå¤æ‚åº¦$O\\left(N^2 * \\log{N}\\right)$ã€‚\nå…³é”®é—®é¢˜åœ¨äºå¦‚ä½•åœ¨æœ€çŸ­çš„æ—¶é—´å†…æ„é€ å‡ºè¿™æ ·çš„ä¸€ä¸ªæ•°ç»„ $\\mathrm{pData}$ï¼Œä½¿å¾— $\\mathrm{pData}[i][j]$ è¡¨ç¤ºä»ç¬¬ $i$ è¡Œç¬¬ $j$ ä¸ªå‘ä¸Šæœç´¢æœ‰å‡ ä¸ªè¿ç»­çš„ â€˜Fâ€™ã€‚\næˆ‘ä»¬å¯ä»¥è€ƒè™‘ä¸€ä¸ªç±»ä¼¼å‰ç¼€å’Œçš„æ€æƒ³ï¼Œå¦‚æœå½“å‰è¯»å…¥çš„åœ°å½¢ä¸º â€˜Fâ€™ï¼Œé‚£ä¹ˆ $\\mathrm{pData}[i][j] = \\mathrm{pData}[i - 1][j] + 1$ï¼Œè¡¨ç¤ºå’Œä¸Šé¢ç»„æˆä¸€ä¸ªæ›´å¤§çš„çŸ©å½¢ï¼›å¦åˆ™ï¼Œ$\\mathrm{pData}[i][j] = 0$ï¼Œè¡¨ç¤ºä¸èƒ½å’Œä¸Šé¢çš„ç»„æˆæ›´å¤§çš„çŸ©å½¢ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 #include #include using namespace std; const int MAX = 1024; int pLeft[MAX], pRight[MAX]; int pMap[MAX][MAX], pData[MAX][MAX]; int main() { char dwTmp; int T, M, N; cin \u003e\u003e T; while(T) { T--; int ans = 0; memset(pData, 0, sizeof(pData)); cin \u003e\u003e M \u003e\u003e N; for(int i = 1; i \u003c= M; i++) { for(int j = 1; j \u003c= N; j++) { cin \u003e\u003e dwTmp; pMap[i][j] = (dwTmp == 'R' ? 1 : 0); if(!pMap[i][j]) { pData[i][j] = pData[i - 1][j] + 1; } else { pData[i][j] = 0; } } } for(int i = 1; i \u003c= M; i++) { memset(pLeft, 0, sizeof(pLeft)); memset(pRight, 0, sizeof(pRight)); for(int j = 1; j \u003c= N; j++) { pLeft[j] = pRight[j] = j; } for(int j = 1; j \u003c= N; j++) { int nCur = j - 1; while(nCur \u003e= 1 \u0026\u0026 pData[i][j] \u003c= pData[i][nCur]) { pLeft[j] = pLeft[nCur]; nCur = pLeft[nCur] - 1; } } for(int j = N; j \u003e= 1; j--) { int nCur = j + 1; while(nCur \u003c= N \u0026\u0026 pData[i][j] \u003c= pData[i][nCur]) { pRight[j] = pRight[nCur]; nCur = pRight[nCur] + 1; } } int nTmp = 0; for(int j = 1; j \u003c= N; j++) { nTmp = max(nTmp, pData[i][j] * (pRight[j] - pLeft[j] + 1)); } ans = max(ans, nTmp); } cout \u003c\u003c ans * 3 \u003c\u003c endl; } return 0; } è¿™é“é¢˜ç›®éœ€è¦ä¸€ä¸ªè½¬åŒ–çš„æ€æƒ³ï¼ŒæŠŠäºŒç»´çš„åœ°å›¾è½¬åŒ–ä¸ºä¸€ç»´çš„æƒ…å†µï¼Œç„¶åè°ƒç”¨Néå¤„ç†ä¸€ç»´é—®é¢˜çš„ç®—æ³•ï¼Œå°±å¯ä»¥è§£å†³é—®é¢˜äº†ã€‚ @ 2015å¹´3æœˆ15æ—¥\nHDU 2602 ç®€å•çš„ 0/1 èƒŒåŒ…é—®é¢˜ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š$$f[j] = \\max{\\left\\{f[j - \\mathrm{pCost}[i]] + \\mathrm{pValue}[i], f[j]\\right\\}}$$\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 #include #include using namespace std; const int MAX = 1024; int pCost[MAX], pValue[MAX], f[MAX]; int main() { int T, N, V; cin \u003e\u003e T; while(T) { T--; memset(f, 0, sizeof(f)); cin \u003e\u003e N \u003e\u003e V; for(int i = 1; i \u003c= N; i++) { cin \u003e\u003e pValue[i]; } for(int i = 1; i \u003c= N; i++) { cin \u003e\u003e pCost[i]; } for(int i = 1; i \u003c= N; i++) { for(int j = V; j \u003e= pCost[i]; j--) { f[j] = max(f[j - pCost[i]] + pValue[i], f[j]); } } int ans = 0; for(int i = 1; i \u003c= V; i++) { ans = max(ans, f[i]); } cout \u003c\u003c ans \u003c\u003c endl; } return 0; } è¿™é“é¢˜ç›®æ¯”è¾ƒç®€å•ã€‚ @ 2015å¹´3æœˆ15æ—¥\nHDU 1087 è¿™é“é¢˜ç›®æ˜¯æ±‚ä¸Šå‡åºåˆ—çš„æœ€å¤§å’Œã€‚ç”¨ $f[i]$ è¡¨ç¤ºä»¥ç¬¬ $i$ ä¸ªèŠ‚ç‚¹ç»“å°¾å¯ä»¥è¾¾åˆ°çš„æœ€å¤§å’Œï¼Œé‚£è®²æœ€é•¿ä¸Šå‡åºåˆ—æ”¹é€ ä¸€ä¸‹å³å¯ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹åŸºæœ¬ä¸å˜ï¼š$$f[i] = \\max{\\left\\{f[j]\\right\\}} + \\mathrm{pData}[i]$$ å…¶ä¸­ $1\\leq j \u003c i$ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 #include #include using namespace std; const int MAX = 1024; int pData[MAX], f[MAX], pSum[MAX]; int main() { int N; while(cin \u003e\u003e N \u0026\u0026 N) { for(int i = 1; i \u003c= N; i++) { cin \u003e\u003e pData[i]; } memset(f, 0, sizeof(f)); f[1] = pData[1]; for(int i = 2; i \u003c= N; i++) { int nTmp = 0; for(int j = 1; j \u003c i; j++) { if(pData[j] \u003c pData[i]) { nTmp = max(nTmp, f[j]); } } f[i] = nTmp + pData[i]; } int ans = 0; for(int i = 1; i \u003c= N; i++) { ans = max(ans, f[i]); } cout \u003c\u003c ans \u003c\u003c endl; } return 0; } è¿™é“é¢˜ç›®ä¹Ÿä¸éš¾ã€‚ @ 2015å¹´3æœˆ15æ—¥\nHDU 2571 è¿™æ˜¯ä¸€é“åŠ¨æ€è§„åˆ’çš„é¢˜ç›®ï¼Œåªä¸è¿‡è½¬ç§»çš„æ—¶å€™éœ€è¦è€ƒè™‘çš„æƒ…å†µå˜å¤šäº†ã€‚ä¸ä½†è¦è€ƒè™‘ä»ç‚¹ $(i - 1, j)$ï¼Œ$(i, j - 1)$ ä»¥åŠ $(i, j / k)$ è½¬ç§»è¿‡æ¥ï¼Œå…¶ä¸­ $k$ ä¸º $j$ çš„çº¦æ•°ã€‚\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ•°æ®å¯èƒ½ä¸ºè´Ÿæ•°ï¼Œå› æ­¤éœ€è¦å°†åˆå€¼ç½®ä¸º -2147483647ï¼Œæ›´æ–°çš„æ—¶å€™éœ€è¦æ³¨æ„åˆå€¼æ˜¯å¦æ”¹å˜ï¼Œå¦‚æœæ²¡æœ‰æ”¹å˜ï¼Œè¯´æ˜æ²¡æœ‰çŠ¶æ€èƒ½å¤Ÿè½¬ç§»è¿‡æ¥ï¼Œå› æ­¤ä¸éœ€è¦æ“ä½œï¼ˆä¹Ÿå°±æ˜¯åŠ  0ï¼‰ï¼Œå¦åˆ™å°±æŠŠè¯¥æ•°å€¼åŠ ä¸Šå»ï¼Œå¹¶ä¸”åœ¨åŠ ä¸ŠåŸæ¥åœ°å›¾ä¸Šçš„æ•°å€¼ã€‚\nè¿˜éœ€è¦æ³¨æ„çš„æ—¶ï¼Œè½¬ç§»çš„æ—¶å€™åº”è¯¥ä½¿ç”¨åŠ¨æ€è§„åˆ’ä½¿ç”¨çš„æ•°ç»„ï¼Œè€Œä¸æ˜¯åœ°å›¾ä¸Šçš„æ•°æ®ã€‚\næœ€åï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$ f[i][j] = \\max{\\left\\{f[i - 1][j], f[i][j - 1], f[i][\\frac{j}{k}]\\right\\}} + \\mathrm{pData}[i][j]$$ å…¶ä¸­ $f[i][j]$ è¡¨ç¤ºèµ°åˆ°ç‚¹ $(i, j)$ èƒ½å¤Ÿè·å¾—çš„æœ€å¤§å¹¸è¿å€¼ï¼ŒåŒæ—¶ $k$ æ˜¯ $j$ çš„çº¦æ•°ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 #include #include using namespace std; const int MAX = 1024; int pMap[MAX][MAX], f[MAX][MAX]; int main() { int C, N, M; cin \u003e\u003e C; while(C) { C--; memset(f, 0, sizeof(f)); cin \u003e\u003e N \u003e\u003e M; for(int i = 1; i \u003c= N; i++) { for(int j = 1; j \u003c= M; j++) { cin \u003e\u003e pMap[i][j]; } } for(int i = 1; i \u003c= N; i++) { for(int j = 1; j \u003c= M; j++) { int nTmp = -2147483647; if(i != 1) { nTmp = max(nTmp, f[i - 1][j]); } if(j != 1) { nTmp = max(nTmp, f[i][j - 1]); } for(int k = 2; k \u003c= j; k++) { if(j % k == 0) { nTmp = max(nTmp, f[i][j / k]); } } f[i][j] = (nTmp == -2147483647 ? 0 : nTmp) + pMap[i][j]; } } cout \u003c\u003c f[N][M] \u003c\u003c endl; } return 0; } è¿™é“é¢˜ç›®å’Œå…¸å‹çš„èµ°è¿·å®«å·®ä¸å¤šï¼Œåªæ˜¯çŠ¶æ€è½¬ç§»çš„æ—¶å€™éœ€è¦è€ƒè™‘æ›´å¤šçš„æƒ…å†µã€‚è¿˜éœ€è¦æ³¨æ„çš„æ˜¯è¾“å…¥çš„æ•°æ®æœ‰è´Ÿæ•°çš„æƒ…å†µã€‚ @ 2015å¹´3æœˆ15æ—¥\nHDU 1069 è¿™é“é¢˜ç›®ä¹Ÿå¯ä»¥è¿ç”¨åŠ¨æ€è§„åˆ’æ¥æ±‚è§£ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†å‡ ä¸ªå°é—®é¢˜ã€‚\né¦–å…ˆæ˜¯å¯¹äºé¢˜ç›®ä¸­æ‰€è®²çš„æ¯ä¸ªçŸ©å½¢æœ‰æ— ç©·ä¸ªçš„å¤„ç†æ–¹æ³•ã€‚æ ¹æ®é¢˜ç›®æ¡ä»¶ï¼Œæ¯ç±»æ–¹å—å¯ä»¥è½¬åŒ–æˆ3ç±»æ–¹å—è€ƒè™‘ä»¥å“ªæ¡è¾¹ä¸ºé«˜åº¦ï¼‰ï¼Œå†è€ƒè™‘åº•é¢çš„è¾¹é•¿å¯ä»¥äº’æ¢ï¼Œå› æ­¤æ— æ•°ä¸ªä¸€ç±»æ–¹å—å¯ä»¥è½¬åŒ–ä¸ºæœ‰é™çš„ 6 ä¸ªæ–¹å—æ¥æ±‚è§£ã€‚\nä¸ºäº†ä¿è¯åŠ¨æ€è§„åˆ’çš„æ­£ç¡®æ€§ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œå¯é€‰çš„ä¸¤ç§æ’åºæ–¹æ³•å¦‚ä¸‹ï¼š\næŒ‰ç…§ $x$ é€’å¢ï¼Œç„¶åæŒ‰ç…§ $y$ é€’å¢ï¼Œæœ€åæŒ‰ç…§ $z$ é€’å¢ï¼› æŒ‰ç…§ $xy$ é€’å¢ã€‚ æˆ‘ä»¬ç”¨ $f[i]$ è¡¨ç¤ºä»¥ç¬¬ $i$ ä¸ªæ–¹å—ä¸ºæœ€åä¸€ä¸ªæ–¹å—æ‰€èƒ½åˆ°è¾¾çš„æœ€å¤§é«˜åº¦ã€‚é‚£ä¹ˆçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$f[i] = \\max{\\left\\{f[j]\\right\\}} + \\mathrm{pData}[i].z$$ å…¶ä¸­ $pData[i].z$ è¡¨ç¤ºç¬¬ $i$ ä¸ªæ–¹å—çš„é«˜åº¦ï¼Œä¸”æ»¡è¶³ $1\\leq j \u003c i$ã€‚\næ­¤å¤–è½¬ç§»çš„æ¡ä»¶ä¸ºå¯ä»¥å°†ç¬¬ $i$ ä¸ªæ–¹å—æ”¾åˆ°ç¬¬ $j$ ä¸ªæ–¹å—ä¸Šé¢ï¼Œæˆ–è€…ç¬¬ $i$ ä¸ªæ–¹å—å¯ä»¥æ”¾åˆ°ç¬¬ $j$ ä¸ªæ–¹å—çš„ä¸‹é¢ï¼Œå³ $$\\begin{cases} \\mathrm{pData}[i].x \u003c \\mathrm{pData}[j].x \\\\ \\mathrm{pData}[i].y \u003c \\mathrm{pData}[j].y\\end{cases}\\quad\\mathrm{or}\\quad\\begin{cases}\\mathrm{pData}[i].x \u003e \\mathrm{pData}[i].x\\\\ \\mathrm{pData}[i].y \u003e \\mathrm{pData}[i].y\\end{cases}$$\næœ€åçš„ç­”æ¡ˆå°±æ˜¯ $\\max{\\left\\{\\mathrm{pData}[i].z\\right\\}}$ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 #include #include #include #include using namespace std; const int MAX = 512; struct Block { Block(int _x = 0, int _y = 0, int _z = 0) { x = _x; y = _y; z = _z; } int x, y, z; }; int cmp(Block a, Block b) { if(a.x != b.x) { return a.x \u003c b.x; } else if(a.y != b.y) { return a.y \u003c b.y; } else { return a.z \u003c b.z; } } bool operator \u003c (Block a, Block b) { return a.x \u003c b.x \u0026\u0026 a.y \u003c b.y; } bool operator \u003e (Block a, Block b) { return a.x \u003e b.x \u0026\u0026 a.y \u003e b.y; } int f[MAX], ans; vector\u003cBlock\u003e pVec; int main() { int N, nCase = 0, x, y, z; while(cin \u003e\u003e N \u0026\u0026 N) { cout \u003c\u003c \"Case \" \u003c\u003c ++nCase \u003c\u003c \": maximum height = \"; ans = 0; pVec.clear(); memset(f, 0, sizeof(f)); for(int i = 1; i \u003c= N; i++) { cin \u003e\u003e x \u003e\u003e y \u003e\u003e z; pVec.push_back(Block(x, y, z)); pVec.push_back(Block(x, z, y)); pVec.push_back(Block(y, x, z)); pVec.push_back(Block(y, z, x)); pVec.push_back(Block(z, x, y)); pVec.push_back(Block(z, y, x)); } sort(pVec.begin(), pVec.end(), cmp); for(int i = 0; i \u003c pVec.size(); i++) { int nTmp = 0; for(int j = 0; j \u003c i; j++) { if(pVec[i] \u003c pVec[j] || pVec[i] \u003e pVec[j]) { nTmp = max(nTmp, pVec[j].z); } } pVec[i].z += nTmp; } for(int i = 0; i \u003c pVec.size(); i++) { ans = max(ans, pVec[i].z); } cout \u003c\u003c ans \u003c\u003c endl; } return 0; } è¿™é“é¢˜ç›®ä¹Ÿæ˜¯ç”¨äº†ä¸€ä¸ªåŠ¨æ€è§„åˆ’çš„æ€æƒ³ï¼ŒæŠŠæ•°æ®æ’åºä»¥åå°±å¯ä»¥æ˜¯ç”¨åŠ¨æ€è§„åˆ’äº†ã€‚åªæ˜¯è¦æ³¨æ„å¯ä»¥æ”¾åœ¨ä¸Šé¢ä¹Ÿå¯ä»¥æ”¾åœ¨ä¸‹é¢ã€‚è¿˜æœ‰å°±æ˜¯æŠŠæ— ç©·ä¸ªæ–¹å—è½¬åŒ–ä¸º 6 ä¸ªæ–¹å—ï¼Œä½¿å¾—é—®é¢˜å¾—åˆ°ç®€åŒ–ã€‚ @ 2015å¹´3æœˆ15æ—¥\nHDU 1171 å°†æ¯ç§ç‰©å“éƒ½å˜æˆ $M$ ä¸ªä½“ç§¯ä¸º $V$ çš„ç‰©å“ï¼Œç„¶åè¿›è¡Œä¸€é 0/1 èƒŒåŒ…ã€‚\næˆ‘ä»¬ç”¨ $f[j]$ è¡¨ç¤ºè£…ä½“ç§¯ä¸º $V$ çš„ç‰©å“æ˜¯å¦å¯è¡Œï¼ˆå¯è¡Œä¸º 1ï¼Œä¸å¯è¡Œä¸º 0ï¼‰ã€‚åˆå§‹åŒ–æ—¶ï¼Œå¯¹äºæ¯ç§ç‰©å“å‡æœ‰ $f[V] = 0$;\nçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$f[j] = 1 \\quad\\mathrm{iff.}~~ f[j - \\mathrm{pCost}[i]] = 1$$\næœ€åæˆ‘ä»¬åªè¦è®¡ç®—å°äºç­‰äº $V / 2$ çš„æƒ…å†µä¸‹æœ€å¤šèƒ½å¤Ÿè£…å¤šå°‘ä½“ç§¯çš„ç‰©å“ï¼Œè®°ä½œ $\\mathrm{ans}$ã€‚é‚£ä¹ˆç­”æ¡ˆå°±æ˜¯ $V - \\mathrm{ans}$ ä»¥åŠ $\\mathrm{ans}$ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 #include #include using namespace std; const int MAX = 1024000; int V, C; int pCost[MAX], f[MAX]; int main() { int N, x, y; while(cin \u003e\u003e N) { if(N \u003c 0) { break; } V = 0; C = 0; memset(f, 0, sizeof(f)); for(int i = 1; i \u003c= N; i++) { cin \u003e\u003e x \u003e\u003e y; for(int j = 1; j \u003c= y; j++) { pCost[++C] = x; V += x; f[x] = 1; } } for(int i = 1; i \u003c= C; i++) { for(int j = V; j \u003e= pCost[i]; j--) { if(f[j - pCost[i]] == 1) { f[j] = 1; } } } int ans = 0; for(int i = 1; i \u003c= V / 2; i++) { if(f[i]) { ans = i; } } cout \u003c\u003c V - ans \u003c\u003c \" \" \u003c\u003c ans \u003c\u003c endl; } return 0; } è¿™é“é¢˜ç›®ä¸»è¦è€ƒå¯Ÿä¸€ä¸ªåŠ¨æ€è§„åˆ’çš„æ€æƒ³ï¼Œé€šè¿‡çŠ¶æ€çš„è½¬ç§»æ¥æ±‚è§£ä¸€å…±èƒ½å¤Ÿè£…å¤šå°‘ä½“ç§¯çš„ç‰©å“ã€‚ @ 2015å¹´3æœˆ23æ—¥\nHDU 2084 æ•°å­—ä¸‰è§’å½¢ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$f[i][j] += \\max{\\left\\{f[i + 1][j], f[i + 1][j + 1]\\right\\}}$$\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 #include #include using namespace std; const int MAX = 1024000; int V, C; int pCost[MAX], f[MAX]; int main() { int N, x, y; while(cin \u003e\u003e N) { if(N \u003c 0) { break; } V = 0; C = 0; memset(f, 0, sizeof(f)); for(int i = 1; i \u003c= N; i++) { cin \u003e\u003e x \u003e\u003e y; for(int j = 1; j \u003c= y; j++) { pCost[++C] = x; V += x; f[x] = 1; } } for(int i = 1; i \u003c= C; i++) { for(int j = V; j \u003e= pCost[i]; j--) { if(f[j - pCost[i]] == 1) { f[j] = 1; } } } int ans = 0; for(int i = 1; i \u003c= V / 2; i++) { if(f[i]) { ans = i; } } cout \u003c\u003c V - ans \u003c\u003c \" \" \u003c\u003c ans \u003c\u003c endl; } return 0; } æœ€ä¸ºç»å…¸çš„åŠ¨æ€è§„åˆ’é¢˜ç›®ã€‚ @ 2015å¹´3æœˆ23æ—¥\nHDU 1176 æˆ‘ä»¬ç”¨ $f[i][j]$ æ¥è¡¨ç¤ºç¬¬ $i$ æ—¶é—´åœ¨ç¬¬ $j$ ä¸ªä½ç½®ä¸Šèƒ½å¤Ÿæ¥åˆ°çš„é¦…é¥¼æ€»æ•°ã€‚\né‚£ä¹ˆçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$f[i][j] += \\max{\\left\\{f[i + 1][j - 1], f[i + 1][j], f[i + 1][j + 1]\\right\\}}$$\nè¿™é‡Œé‡‡ç”¨å€’æ¨æ³•ï¼Œå› ä¸ºæœ€åæˆ‘ä»¬ä¸€å¼€å§‹çš„èµ·å§‹ä½ç½®åœ¨ 5ã€‚å› æ­¤åªéœ€è¦è¾“å‡º $f[0][5]$ å³å¯ã€‚\nå½“ç„¶ï¼Œè¿™é‡Œè¿˜éœ€è¦å¤„ç†ä¸€ä¸‹è¾¹ç•Œ 0 å’Œ 10 çš„æƒ…å†µï¼Œå…·ä½“è¡¨ç°ä¸ºï¼š$$\\begin{cases} f[i][0] = f[i][0] + \\max{\\left\\{f[i + 1][0], f[i + 1][1]\\right\\}}\\\\ f[i][10] = f[i][10] + \\max{\\left\\{f[i + 1][9], f[i + 1][10]\\right\\}}\\end{cases}$$\nè¯»å…¥æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç½® f[T][X]++ï¼Œå…¶ä¸­ $T$ ä¸ºæ—¶é—´ç‚¹ï¼Œ$X$ ä¸ºåæ ‡ã€‚\næœ€åï¼Œæœ€å¤§çš„æ—¶é—´ç‚¹ $T$ï¼Œæˆ‘ä»¬ä» $T-1$ éå†åˆ°0ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 #include #include using namespace std; const int MAX = 102400; int f[MAX][16]; int max(int x, int y); int max(int x, int y, int z); int main() { ios::sync_with_stdio(false); int N, X, T, nCnt = 0; while(cin \u003e\u003e N \u0026\u0026 N) { memset(f, 0, sizeof(f)); for(int i = 1; i \u003c= N; i++) { cin \u003e\u003e X \u003e\u003e T; f[T][X]++; nCnt = max(nCnt, T); } for(int i = nCnt - 1; i \u003e= 0; i--) { f[i][0] += max(f[i + 1][0], f[i + 1][1]); for(int j = 1; j \u003c 10; j++) { f[i][j] += max(f[i + 1][j - 1], f[i + 1][j], f[i + 1][j + 1]); } f[i][10] += max(f[i + 1][9], f[i + 1][10]); } cout \u003c\u003c f[0][5] \u003c\u003c endl; } return 0; } int max(int x, int y) { return x \u003e y ? x : y; } int max(int x, int y, int z) { return max(x, max(y, z)); } è¿™é“é¢˜ç›®ä¹Ÿæ˜¯è€ƒè™‘çŠ¶æ€çš„è½¬ç§»ã€‚ @ 2015å¹´3æœˆ23æ—¥\nHDU 1203 è¿™é“é¢˜ç›®å’Œä¸€å¼€å§‹åšåˆ°çš„ HDU 2955 æ˜¯å·®ä¸å¤šçš„é¢˜ç›®ï¼Œä¹Ÿæ˜¯ä¸€é“æ¦‚ç‡ DPã€‚åŒæ ·æˆ‘ä»¬è€ƒè™‘å®ƒçš„åé¢ï¼Œç”¨ $f[j]$ è¡¨ç¤ºèŠ±è´¹ $j$ ä¸‡å…ƒè¢«æ‰€æœ‰ offer æ‹’ç»çš„æœ€å°æ¦‚ç‡ï¼Œä¹Ÿå°±å¯¹åº”ç€è‡³å°‘è¢«ä¸€ä¸ª offer æ¥å—çš„æœ€å¤§æ¦‚ç‡ã€‚\nä¸ä¹‹ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä¸éœ€è¦è€ƒè™‘è½¬ç§»çš„æ¡ä»¶ï¼Œç›´æ¥ç½®æ‰€æœ‰çš„ $f[j] = 1$ã€‚è€ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹åˆ™ä¸ºï¼š$$f[j] = \\min{\\left\\{f[j - \\mathrm{pCost}[i]] \\times \\mathrm{pValue}[i], f[j]\\right\\}}$$ æœ€åè¾“å‡ºçš„æ—¶å€™æ³¨æ„ä¸€ä¸‹æ ¼å¼å³å¯ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 #include #include using namespace std; const int MAX = 10240; int pCost[MAX]; double pValue[MAX], f[MAX]; int main() { int N, M; while(cin \u003e\u003e N \u003e\u003e M) { if(N == 0 \u0026\u0026 M == 0) { break; } for(int i = 1; i \u003c= M; i++) { cin \u003e\u003e pCost[i] \u003e\u003e pValue[i]; pValue[i] = 1 - pValue[i]; } for(int i = 0; i \u003c= N; i++) { f[i] = 1; } for(int i = 1; i \u003c= M; i++) { for(int j = N; j \u003e= pCost[i]; j--) { f[j] = min(f[j - pCost[i]] * pValue[i], f[j]); } } cout \u003c\u003c fixed \u003c\u003c setprecision(1) \u003c\u003c (1 - f[N]) * 100 \u003c\u003c \"%\" \u003c\u003c endl; } return 0; } åˆæ˜¯ä¸€é“æ¦‚ç‡ DPã€‚ @ 2015å¹´3æœˆ23æ—¥\nHDU 2159 è¿™æ˜¯ä¸€ä¸ªäºŒç»´å®Œå…¨èƒŒåŒ…ï¼Œä¸€ä¸ªè£…æ€æ€ªæ•°ç›®ï¼Œä¸€ä¸ªè£…å¿è€å€¼ã€‚\næˆ‘ä»¬ä½¿ç”¨ $f[j][k]$ è¡¨ç¤ºæ€äº† $j$ ä¸ªæ€ªå…½ï¼Œä½¿ç”¨äº† $k$ ä¸ªå¿è€å€¼ï¼Œèƒ½å¤Ÿè·å¾—çš„æœ€å¤§ç»éªŒã€‚\né‚£ä¹ˆçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$f[j][k] = \\max{\\left\\{f[j - 1][k - \\mathrm{pBare}[i]] + \\mathrm{pExp}[i], f[j][k]\\right\\}}$$\næœ€åï¼Œè‹¥ $f[S][M] \u003c N$ï¼Œåˆ™æ— è§£ã€‚å¦åˆ™æˆ‘ä»¬éœ€è¦æ±‚è§£èƒ½å¤Ÿå‡çº§çš„æƒ…å†µä¸‹æ‰€ä½¿ç”¨çš„æœ€å°‘çš„å¿è€å€¼ nTmpï¼Œè¾“å‡º M - nTmp å³å¯ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 #include #include using namespace std; const int MAX = 128; int pExp[MAX], pBare[MAX]; int f[MAX][MAX]; int main() { int N, M, K, S; while(cin \u003e\u003e N \u003e\u003e M \u003e\u003e K \u003e\u003e S) { memset(f, 0, sizeof(f)); for(int i = 1; i \u003c= K; i++) { cin \u003e\u003e pExp[i] \u003e\u003e pBare[i]; } for(int i = 1; i \u003c= K; i++) { for(int j = 1; j \u003c= S; j++) { for(int k = pBare[i]; k \u003c= M; k++) { f[j][k] = max(f[j - 1][k - pBare[i]] + pExp[i], f[j][k]); } } } if(f[S][M] \u003c N) { cout \u003c\u003c -1 \u003c\u003c endl; } else { int nTmp = M; for(int i = 0; i \u003c= S; i++) { for(int j = M; j \u003e= 0; j--) { if(f[i][j] \u003e= N) { nTmp = min(nTmp, j); } } } cout \u003c\u003c M - nTmp \u003c\u003c endl; } } return 0; } ç¬¬ä¸€æ¬¡åšäºŒç»´èƒŒåŒ…çš„é—®é¢˜ï¼Œæ„Ÿè§‰ç†è§£é€äº†ï¼Œä¹Ÿä¸æ€ä¹ˆéš¾ã€‚ @ 2015å¹´3æœˆ23æ—¥\nHDU 2577 æˆ‘ä»¬ä»¤ $f[i]$ã€$g[i]$ åˆ†åˆ«è¡¨ç¤ºè¾“å…¥å®Œ $i$ ä¸ªå­—ç¬¦åï¼ŒCaps Lock ç¯å…³ä¸å¼€çš„çŠ¶æ€ä¸‹æ‰€éœ€è¦çš„æŒ‰é”®æ¬¡æ•°ï¼Œæ˜“å¾—çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š\nç¬¬ $i$ ä¸ªå­—æ¯å°å†™ï¼š$$f[i] = \\min{\\left\\{f[i - 1] + 1, g[i - 1] + 2\\right\\}},\\quad g[i] = \\min{\\left\\{f[i - 1] + 2, g[i - 1] + 2\\right\\}}$$ ç¬¬ $i$ ä¸ªå­—æ¯å¤§å†™ï¼š$$f[i] = \\min{\\left\\{f[i - 1] + 2, g[i - 1] + 2\\right\\}},\\quad g[i] = \\min{\\left\\{f[i - 1] + 2, g[i - 1] + 2\\right\\}}$$ ä¸‹é¢æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ä¸Šé¢çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šç¬¬ $i$ ä¸ªå­—æ¯å°å†™ï¼Œè¦ä¿æŒæœ€å Caps Lock ç¯å…³ï¼Œé‚£ä¹ˆåœ¨ç¯å…³çš„çŠ¶æ€ä¸‹ç›´æ¥è¾“å…¥å­—æ¯ï¼Œå› æ­¤ä¸º f[i - 1] + 1ï¼›åœ¨ç¯å¼€çš„çŠ¶æ€ä¸‹å…³ç¯ï¼Œè¾“å…¥å­—æ¯ï¼Œå› æ­¤ä¸º g[i - 1] + 2ã€‚å¦‚æœè¦ä¿æŒæœ€å Caps Lock ç¯å¼€ï¼Œåœ¨ç¯å…³çš„çŠ¶æ€ä¸‹è¾“å…¥å­—æ¯ï¼Œå¼€ç¯ï¼Œå› æ­¤ä¸º f[i - 1] + 2ï¼›åœ¨ç¯å¼€çš„çŠ¶æ€ä¸‹ Shift + å­—æ¯ï¼Œå› æ­¤ä¸º g[i - 1] + 2ã€‚å½“ç¬¬ $i$ ä¸ªå­—æ¯å¤§å†™çš„æƒ…å†µç±»ä¼¼ã€‚\nåˆå§‹æ¡ä»¶å¦‚ä¸‹ï¼š\nç¬¬ 1 ä¸ªå­—æ¯å°å†™ï¼š$f[0] = 1,\\quad g[0] = 2$ ç¬¬ 1 ä¸ªå­—æ¯å¤§å†™ï¼š$f[0] = 2,\\quad g[0] = 2$ æœ€åç­”æ¡ˆä¸º min(f[x.length() - 1], g[x.length() - 1] + 1)ï¼Œå› ä¸ºæœ€å Caps Lock ç¯è¦ä¿æŒå…³é—­çŠ¶æ€ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 #include #include #include using namespace std; const int MAX = 128; int f[MAX], g[MAX]; bool IsUpper(char x); bool IsLower(char x); int main() { int N; string x; while(cin \u003e\u003e N) { for(int i = 1; i \u003c= N; i++) { cin \u003e\u003e x; memset(f, 0, sizeof(f)); memset(g, 0, sizeof(g)); if(IsLower(x[0])) { f[0] = 1; g[0] = 2; } else { f[0] = 2; g[0] = 2; } for(int j = 1; j \u003c x.length(); j++) { if(IsLower(x[j])) { f[j] = min(f[j - 1] + 1, g[j - 1] + 2); g[j] = min(f[j - 1] + 2, g[j - 1] + 2); } else { f[j] = min(f[j - 1] + 2, g[j - 1] + 2); g[j] = min(f[j - 1] + 2, g[j - 1] + 1); } } cout \u003c\u003c min(f[x.length() - 1], g[x.length() - 1] + 1) \u003c\u003c endl; } } return 0; } bool IsUpper(char x) { return x \u003e= 'A' \u0026\u0026 x \u003c= 'Z'; } bool IsLower(char x) { return x \u003e= 'a' \u0026\u0026 x \u003c= 'z'; } è¿™é“é¢˜ç›®éœ€è¦ç”¨ä¸¤ä¸ªæ•°ç»„æ¥ç»´æŠ¤ä¸åŒçš„ä¸¤ç§çŠ¶æ€ï¼Œä½¿å¾—é—®é¢˜å¾—åˆ°ç®€åŒ–ã€‚ @ 2015å¹´4æœˆ5æ—¥\nHDU 2844 ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„æ€è·¯æ˜¯æ„é€  $C_i$ ä¸ªç‰©å“ $A_i$ï¼Œç„¶ååšä¸€é 0/1 èƒŒåŒ…å³å¯ã€‚ä½†æ˜¯ä¼š TLEï¼Œå› æ­¤éœ€è¦å¯»æ±‚ä¼˜åŒ–çš„æ–¹æ³•ã€‚\nåœ¨è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨äºŒè¿›åˆ¶æ‹†åˆ†çš„æ–¹æ³•ã€‚å¯¹äº $C_i$ ä¸ªç‰©å“ $A_i$ï¼Œå°†å®ƒæ‹†åˆ†æˆ $A_i \\times (1 + 2 + 4 + 8 + 16 + â€¦ + \\mathrm{left})$ï¼Œæ ¹æ®äºŒè¿›åˆ¶çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬çŸ¥é“é€šè¿‡è¿™æ ·çš„æ–¹æ³•å¯ä»¥è·å¾— $1 \\times A_i, 2 \\times Ai, \\cdots C_i \\times Ai$ çš„å„ä¸ªæ•°å€¼ã€‚è¯æ˜å¦‚ä¸‹ï¼š\nè¿™å°±ç­‰æ•ˆäºè¯æ˜å¯ä»¥ä» $1, 2, 4, 8, 16, \\cdots , \\mathrm{left}$ ä¸­é€‰å–ä»»æ„ä¸ªæ•°å­—ç»„æˆ $1, 2, 3,\\cdots , C_i$ã€‚æˆ‘ä»¬å°†è¿™äº›æ•°å­—å†™æˆäºŒè¿›åˆ¶çš„å½¢å¼ï¼Œä¼šå‘ç°è¿™ä¸å‰é¢çš„æ‹†åˆ†æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚å› æ­¤è¿™æ ·æ‹†åˆ†ç‰©å“ä¸å½±å“ç»“æœçš„æ­£ç¡®æ€§ï¼Œæ¥ä¸‹æ¥åšä¸€é 0/1 èƒŒåŒ…å³å¯å‡ºè§£ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 #include #include using namespace std; const int MAX = 102400; int f[MAX]; int pValue[MAX], pData[MAX]; int main() { int N, M, nTmp; ios::sync_with_stdio(false); while(cin \u003e\u003e N \u003e\u003e M) { int nCnt = 0; if(N == 0 \u0026\u0026 M == 0) { break; } memset(f, 0, sizeof(f)); f[0] = 1; for(int i = 1; i \u003c= N; i++) { cin \u003e\u003e pValue[i]; } for(int i = 1; i \u003c= N; i++) { cin \u003e\u003e nTmp; for(int j = 1; j \u003c= nTmp; j \u003c\u003c= 1) { pData[++nCnt] = pValue[i] * j; nTmp -= j; } if(nTmp) { pData[++nCnt] = pValue[i] * nTmp; } } for(int i = 1; i \u003c= nCnt; i++) { for(int v = M; v \u003e= pData[i]; v--) { if(f[v - pData[i]]) { f[v] = 1; } } } int ans = 0; for(int i = 1; i \u003c= M; i++) { ans += f[i]; } cout \u003c\u003c ans \u003c\u003c endl; } return 0; } ç¬¬ä¸€æ¬¡æ¥è§¦åˆ°äºŒè¿›åˆ¶æ‹†åˆ†çš„æ€è·¯ï¼Œæ„Ÿè§‰å¾ˆå·§å¦™ï¼Œå€¼å¾—å­¦ä¹ ã€‚ @ 2015å¹´4æœˆ5æ—¥\næœªå®Œå¾…ç»­â€¦\n","wordCount":"8399","inLanguage":"zh","datePublished":"2015-03-14T13:22:00+08:00","dateModified":"2015-03-14T13:22:00+08:00","author":{"@type":"Person","name":"Kai Wang"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://kwang.life/2015/03/dynamic-programming-hdu/"},"publisher":{"@type":"Organization","name":"é€€æ€è½©","logo":{"@type":"ImageObject","url":"https://kwang.life/favicons/apple-touch-icon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://kwang.life accesskey=h title="é€€æ€è½© (Alt + H)"><img src=https://kwang.life/favicons/apple-touch-icon.png alt aria-label=logo height=35>é€€æ€è½©</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://kwang.life/ title=ğŸ é¦–é¡µ><span>ğŸ é¦–é¡µ</span></a></li><li><a href=https://kwang.life/archives/ title=ğŸ“”å½’æ¡£><span>ğŸ“”å½’æ¡£</span></a></li><li><a href=https://kwang.life/tags/ title=ğŸ·ï¸æ ‡ç­¾><span>ğŸ·ï¸æ ‡ç­¾</span></a></li><li><a href=https://kwang.life/search/ title="ğŸ”æœç´¢ (Alt + /)" accesskey=/><span>ğŸ”æœç´¢</span></a></li><li><a href=https://kwang.life/categories/ title=ğŸ—‚ï¸åˆ†ç±»><span>ğŸ—‚ï¸åˆ†ç±»</span></a></li><li><a href=https://kwang.life/friends/ title=ğŸŒé‚»å±…><span>ğŸŒé‚»å±…</span></a></li><li><a href=https://kwang.life/about/ title=ğŸ“œå…³äº><span>ğŸ“œå…³äº</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Dynamic Programming - HDU</h1><div class=post-meta><span title='2015-03-14 13:22:00 +0800 +0800'>2015å¹´3æœˆ14æ—¥</span>&nbsp;Â·&nbsp;17 åˆ†é’Ÿ&nbsp;Â·&nbsp;8399 å­—&nbsp;Â·&nbsp;Kai Wang&nbsp;Â·&nbsp;<span id=busuanzi_container_site_pv>æœ¬æ–‡é˜…è¯»é‡&nbsp;<span id=busuanzi_value_page_pv></span>&nbsp;æ¬¡</span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><ul><li><a href=#hdu-2955 aria-label="HDU 2955">HDU 2955</a></li><li><a href=#hdu-1864 aria-label="HDU 1864">HDU 1864</a></li><li><a href=#hdu-1231 aria-label="HDU 1231">HDU 1231</a></li><li><a href=#hdu-1003 aria-label="HDU 1003">HDU 1003</a></li><li><a href=#hdu-1506 aria-label="HDU 1506">HDU 1506</a></li><li><a href=#hdu-1505 aria-label="HDU 1505">HDU 1505</a></li><li><a href=#hdu-2602 aria-label="HDU 2602">HDU 2602</a></li><li><a href=#hdu-1087 aria-label="HDU 1087">HDU 1087</a></li><li><a href=#hdu-2571 aria-label="HDU 2571">HDU 2571</a></li><li><a href=#hdu-1069 aria-label="HDU 1069">HDU 1069</a></li><li><a href=#hdu-1171 aria-label="HDU 1171">HDU 1171</a></li><li><a href=#hdu-2084 aria-label="HDU 2084">HDU 2084</a></li><li><a href=#hdu-1176 aria-label="HDU 1176">HDU 1176</a></li><li><a href=#hdu-1203 aria-label="HDU 1203">HDU 1203</a></li><li><a href=#hdu-2159 aria-label="HDU 2159">HDU 2159</a></li><li><a href=#hdu-2577 aria-label="HDU 2577">HDU 2577</a></li><li><a href=#hdu-2844 aria-label="HDU 2844">HDU 2844</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener('DOMContentLoaded',function(){checkTocPosition(),elements=document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]'),activeElement=elements[0];const e=encodeURI(activeElement.getAttribute('id')).toLowerCase();document.querySelector(`.inner ul li a[href="#${e}"]`).classList.add('active')},!1),window.addEventListener('resize',function(){checkTocPosition()},!1),window.addEventListener('scroll',()=>{elements&&(activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute('id')).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add('active'):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove('active')}))},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue('--gap'),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=hdu-2955>HDU 2955<a hidden class=anchor aria-hidden=true href=#hdu-2955>#</a></h2><p>è¿™æ˜¯ä¸€é“æ¦‚ç‡ DPï¼Œæˆ‘ç¬¬ä¸€æ¬¡çš„æƒ³æ³•æ˜¯æŠŠæ¦‚ç‡ $P$ ä¹˜ä»¥ 100ï¼Œå˜æˆä¸€ä¸ªèƒŒåŒ…ç„¶ååš 0/1 èƒŒåŒ…ï¼Œåæ¥å‘ç°è¿™æ ·åšæ˜¯é”™è¯¯çš„ã€‚</p><p>åŸå› ï¼šæ¦‚ç‡åº”è¯¥æ˜¯ç›¸ä¹˜ï¼Œè€Œä¸æ˜¯ç›¸åŠ ã€‚</p><p>åæ¥çœ‹äº†é¢˜è§£æƒ³åˆ°äº†å¦å¤–ä¸€ç§æ–¹æ³•ï¼Œä½¿ç”¨é€ƒè„±æ¦‚ç‡æ¥è®¡ç®—ï¼Œç”¨ $f[j]$ è¡¨ç¤ºå·èµ° $j$ ä»·å€¼åé€ƒè„±çš„æ¦‚ç‡ã€‚æ˜“çŸ¥ï¼Œå¤šæ¬¡é€ƒè„±æ¦‚ç‡ä¸ºæ¯æ¬¡é€ƒè„±æ¦‚ç‡ç›¸ä¹˜ã€‚è¿™é‡Œä¸ä½¿ç”¨è¢«é€®æ•çš„æ¦‚ç‡æ˜¯å› ä¸ºè¢«é€®æ•çš„æƒ…å†µæ¯”è¾ƒå¤æ‚ï¼ˆä¾‹å¦‚å·ç¬¬ä¸€ä»¶ç‰©å“ä¸è¢«é€®æ•ï¼Œå·ç¬¬äºŒä»¶ç‰©å“è¢«é€®æ•ï¼Œè¢«é€®æ•çš„æ¦‚ç‡åº”è¯¥ä¸ºå¤´ç¬¬ä¸€ä»¶ç‰©å“ä¸è¢«é€®æ•çš„æ¦‚ç‡ä¹˜ä»¥å·ç¬¬äºŒä»¶ç‰©å“ä¸è¢«é€®æ•çš„æ¦‚ç‡ã€‚ï¼‰ï¼Œè€Œå½“æˆ‘ä»¬è½¬è€Œè€ƒè™‘å®ƒçš„å¯¹ç«‹äº‹ä»¶â€”â€”é€ƒè„±æ—¶ï¼Œé—®é¢˜å°±ä¼šå˜å¾—å®¹æ˜“äº†ï¼Œå› ä¸ºé€ƒè„±çš„æ¦‚ç‡æ°¸è¿œæ˜¯ç›¸ä¹˜çš„ã€‚</p><p>æ›´ä¸ºä¸¥æ ¼çš„è¯´æ³•æ˜¯è¿™æ ·çš„ï¼šè®¾è¢«ç¬¬ $i$ ä¸ªé“¶è¡Œé€®æ•çš„äº‹ä»¶ä¸º $P_i$ï¼Œé‚£ä¹ˆ $1-\sum{P_i}$ å°±æ˜¯è‡³å°‘è¢«ä¸€ä¸ªé“¶è¡Œé€®æ•çš„æ¦‚ç‡ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€éœ€è¦æ±‚çš„è¢«é€®æ•çš„æ¦‚ç‡ã€‚é€šè¿‡è¿™æ ·çš„æ•°å­¦ä¸Šçš„è¯´ç†ï¼Œæˆ‘ä»¬å¯ä»¥è¯æ˜è¿™ä¸€ç®—æ³•æ˜¯æ­£ç¡®çš„ã€‚</p><p>ç”±äºè¦è®¡ç®—é€ƒè„±æ¦‚ç‡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯»å…¥çš„æ—¶å€™å°±æŠŠå¯èƒ½è¢«é€®æ•çš„æ¦‚ç‡ $P$ å˜æˆå¯èƒ½é€ƒè„±çš„æ¦‚ç‡ $1 - P$ã€‚è¿™æ ·ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$ f[j] = \max{\left\{f[j - \mathrm{pValue}[i]] \times \mathrm{pCost}[i], f[j]\right\}}$$ å…¶ä¸­ $\mathrm{pValue}[i]$ è¡¨ç¤ºç¬¬ $i$ ä¸ªé“¶è¡Œçš„ä»·å€¼ï¼Œ$\mathrm{pCost}[i]$ è¡¨ç¤ºå·ç¬¬ $i$ ä¸ªé“¶è¡Œé€ƒè„±çš„æ¦‚ç‡ã€‚</p><p>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘ä¸€ä¸ªè½¬ç§»æ¡ä»¶ï¼Œå¦‚æœ $f[j - \mathrm{pValue}[i]]$ æ²¡æœ‰è¢«æ›´æ–°è¿‡ï¼Œé‚£ä¹ˆæ˜¯ä¸èƒ½è½¬ç§»è¿‡æ¥çš„ã€‚å› ä¸ºæš‚æ—¶æ²¡æœ‰ä¸€ä¸ªçŠ¶æ€å¯ä»¥å·åˆ° $j - \mathrm{pValue}[i]$ ä»·å€¼çš„ç‰©å“ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦è€ƒè™‘ä¸€ä¸‹åˆå§‹æ¡ä»¶ï¼Œå¾ˆæ˜¾ç„¶ $f[0] = 1$ï¼Œå› ä¸ºä¸å·ä»»ä½•ä¸œè¥¿ï¼Œå°±ä¸ä¼šè¢«é€®æ•ï¼Œé€ƒè„±çš„æ¦‚ç‡å°±ä¸º 1ã€‚å…¶ä½™ $f[j] = -1$ï¼Œå…¶ä¸­ $j \neq 0$ï¼Œè¡¨ç¤ºæš‚æ—¶æ²¡æœ‰ä¸€ä¸ªçŠ¶æ€å¯ä»¥å·åˆ° $j$ ä»·å€¼çš„ç‰©å“ã€‚</p><p>æœ€åæ‰«ä¸€é $f[j]$ï¼Œæ»¡è¶³ $1 - f[j] \leq P$ çš„æœ€å¤§ä¸‹æ ‡ $j$ ä¸ºæ»¡è¶³é¢˜è®¾æ¡ä»¶çš„ç­”æ¡ˆã€‚</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;memory.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>10240</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> pValue[MAX];
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> pCost[MAX], f[MAX];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> T, M, V;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> P;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> T;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; k <span style=color:#f92672>&lt;=</span> T; k<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        f[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; V <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> MAX; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        { f[i] <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; }
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> P <span style=color:#f92672>&gt;&gt;</span> M;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> M; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> pValue[i] <span style=color:#f92672>&gt;&gt;</span> pCost[i];
</span></span><span style=display:flex><span>            pCost[i] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> pCost[i];
</span></span><span style=display:flex><span>            V <span style=color:#f92672>+=</span> pValue[i];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> M; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> V; j <span style=color:#f92672>&gt;=</span> pValue[i]; j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span>(f[j <span style=color:#f92672>-</span> pValue[i]] <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>                { f[j] <span style=color:#f92672>=</span> max(f[j <span style=color:#f92672>-</span> pValue[i]] <span style=color:#f92672>*</span> pCost[i], f[j]); }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;=</span> V; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> f[i] <span style=color:#f92672>&lt;=</span> P)
</span></span><span style=display:flex><span>            { ans <span style=color:#f92672>=</span> i; }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>æ¥è§¦çš„ç¬¬ä¸€é“æ¦‚ç‡DPï¼Œå‘ç°DPéå¸¸çš„çµæ´»ï¼Œè‡ªå·±è¿˜æœ‰å¾ˆå¤šä¸œè¥¿è¦å­¦ã€‚ @ <strong>2015å¹´3æœˆ14æ—¥</strong></p><h2 id=hdu-1864>HDU 1864<a hidden class=anchor aria-hidden=true href=#hdu-1864>#</a></h2><p>è¿™æ˜¯ä¸€é“è¾ƒä¸ºå…¸å‹çš„ 0/1 èƒŒåŒ…ï¼Œä½†æ˜¯ç‰©å“çš„ä»·å€¼å’Œè´¹ç”¨éƒ½éœ€è¦è‡ªå·±å¤„ç†å‡ºæ¥ã€‚éœ€è¦æ³¨æ„ä¸€ä¸‹åªèƒ½æŠ¥é”€ Aã€Bã€C ç±»çš„å‘ç¥¨ã€‚åªè¦æœ‰ä¸€ä¸ªæ¡ä»¶ä¸æˆç«‹ï¼Œå°±ä¸æŠ¥é”€è¯¥å‘ç¥¨ã€‚</p><p>è¾“å…¥ä¸¤ä½å°æ•°çš„æ—¶å€™ï¼ŒæŠŠå®ƒä¹˜ä»¥ 100ï¼Œåš 0/1 èƒŒåŒ…å°±å¯ä»¥äº†ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$f[j] = \max{\left\{f[j - \mathrm{pValue}[i]] + \mathrm{pCost}[i], f[j]\right\}}$$ æ•°æ®æ–¹é¢å¯èƒ½è¾“å…¥çš„æ—¶å€™æ²¡æœ‰ç»™å‡ºå°æ•°éƒ¨åˆ†ï¼Œæ¯”å¦‚ç›´æ¥è¾“å…¥ 100ï¼Œè€Œä¸æ˜¯ 100.00ã€‚ä½†æ˜¯é¢˜ç›®ä¸­æ²¡æœ‰ç»™å‡ºæŠ¥é”€é™é¢çš„æ•°æ®èŒƒå›´ï¼Œå¼€åˆ° 3000000 å°±å¯ä»¥äº†ã€‚</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">51
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">52
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">53
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">54
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">55
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">56
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">57
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">58
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;memory.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;string&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>3840000</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> pHash[<span style=color:#ae81ff>32</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[MAX], pValue[MAX], pCost[MAX];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> N, M, V, nCnt;
</span></span><span style=display:flex><span>    string strTmp;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> Q;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>(cin <span style=color:#f92672>&gt;&gt;</span> Q <span style=color:#f92672>&gt;&gt;</span> N <span style=color:#f92672>&amp;&amp;</span> N)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        V <span style=color:#f92672>=</span> Q <span style=color:#f92672>*</span> <span style=color:#ae81ff>100</span>; nCnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        memset(f, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(f));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> nSum <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>bool</span> bFlag <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> M;
</span></span><span style=display:flex><span>            memset(pHash, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(pHash));
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> M; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                cin <span style=color:#f92672>&gt;&gt;</span> strTmp;
</span></span><span style=display:flex><span>                pHash[strTmp[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;A&#39;</span>] <span style=color:#f92672>+=</span> atof(strTmp.substr(<span style=color:#ae81ff>2</span>, strTmp.length() <span style=color:#f92672>-</span> <span style=color:#ae81ff>2</span>).c_str()) <span style=color:#f92672>*</span> <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>32</span>; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span>(j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>&amp;&amp;</span> pHash[j]) { bFlag <span style=color:#f92672>=</span> false; }
</span></span><span style=display:flex><span>                nSum <span style=color:#f92672>+=</span> pHash[j];
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span>(pHash[j] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>60000</span>) { bFlag <span style=color:#f92672>=</span> false;}
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(nSum <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>100000</span>) { bFlag <span style=color:#f92672>=</span> false; }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(bFlag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                nCnt<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>                pValue[nCnt] <span style=color:#f92672>=</span> pCost[nCnt] <span style=color:#f92672>=</span> nSum; 
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> nCnt; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> V; j <span style=color:#f92672>&gt;=</span> pCost[i]; j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>            { f[j] <span style=color:#f92672>=</span> max(f[j <span style=color:#f92672>-</span> pCost[i]] <span style=color:#f92672>+</span> pValue[i], f[j]); }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;=</span> V; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        { ans <span style=color:#f92672>=</span> max(ans, f[i]); }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>/</span> <span style=color:#ae81ff>100</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;.&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(ans <span style=color:#f92672>%</span> <span style=color:#ae81ff>100</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span> ) { cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;0&#34;</span>; }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>%</span> <span style=color:#ae81ff>100</span> <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>è¿™é“é¢˜ç›®ç¬¬ä¸€æ¬¡ Hash è¡¨çš„èŒƒå›´ä¸º 32ï¼Œè®¿é—®åˆ°äº† MAXï¼Œæ‰€ä»¥å¯¼è‡´äº† Runtime Errorã€‚ @ <strong>2015å¹´3æœˆ14æ—¥</strong></p><h2 id=hdu-1231>HDU 1231<a hidden class=anchor aria-hidden=true href=#hdu-1231>#</a></h2><p>è¿™é“é¢˜ç›®æœ‰ä¸€ç§è´ªå¿ƒçš„åšæ³•ï¼Œæ‰«ä¸€é $\mathrm{pData[i]}$ æ±‚å’Œï¼ˆ<code>Sum += pData[i]</code>ï¼‰ï¼Œå¦‚æœé‡åˆ°å½“å‰å’Œ $\mathrm{Sum}$ å°äº 0 çš„æ—¶å€™ï¼Œå°±æ›´æ–°ç­”æ¡ˆï¼Œå¹¶ä¸”æŠŠå½“å‰ç´¯åŠ çš„å’Œç½®ä¸ºå½“å‰éå†åˆ°çš„æ•°å­— $\mathrm{pData}[i]$ã€‚</p><p>è¿˜ä¼šæœ‰ä¸€ç§åŠ¨æ€è§„åˆ’çš„æ–¹æ³•ï¼š$$f[i] = \max{\left\{f[i - 1] + \mathrm{pData}[i], \mathrm{pData}[i]\right\}}$$ æ¯æ¬¡æ›´æ–°ä»¥åéƒ½è¦æ›´æ–°ç­”æ¡ˆã€‚éœ€è¦æ³¨æ„ï¼Œå¦‚æœæœ€åæœ€å¤§çš„å’Œè¿˜æ˜¯è´Ÿæ•°çš„è¯ï¼Œåˆ™è¾“å‡º 0 ä»¥åŠæ•°æ®çš„é¦–å°¾ä¸¤ä¸ªå…ƒç´ ã€‚</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;memory.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>10240</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> l, r, ans, al, ar;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> pData[MAX], f[MAX];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    ios<span style=color:#f92672>::</span>sync_with_stdio(false);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> K;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>(cin <span style=color:#f92672>&gt;&gt;</span> K)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(K <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) { <span style=color:#66d9ef>break</span>; }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> K; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        { cin <span style=color:#f92672>&gt;&gt;</span> pData[i]; }
</span></span><span style=display:flex><span>        l <span style=color:#f92672>=</span> r <span style=color:#f92672>=</span> al <span style=color:#f92672>=</span> ar <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; ans <span style=color:#f92672>=</span> pData[<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>        memset(f, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(f));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> K; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(f[i <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> pData[i] <span style=color:#f92672>&gt;</span> pData[i])
</span></span><span style=display:flex><span>            { f[i] <span style=color:#f92672>=</span> f[i <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> pData[i]; r <span style=color:#f92672>=</span> i; }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            { f[i] <span style=color:#f92672>=</span> pData[i]; l <span style=color:#f92672>=</span> r <span style=color:#f92672>=</span> i; }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(f[i] <span style=color:#f92672>&gt;</span> ans) { ans <span style=color:#f92672>=</span> f[i]; al <span style=color:#f92672>=</span> l; ar <span style=color:#f92672>=</span> r; }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(ans <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>        { cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> pData[al] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> pData[ar] <span style=color:#f92672>&lt;&lt;</span> endl; }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> { cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> pData[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> pData[K] <span style=color:#f92672>&lt;&lt;</span> endl; }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>ä»¥å‰å¤„ç†è¿™ç±»é¢˜ç›®çš„æ—¶å€™éƒ½æ˜¯ä½¿ç”¨è´ªå¿ƒçš„æ–¹æ³•ï¼Œä»Šå¤©çœ‹åˆ°åŠ¨æ€è§„åˆ’çš„æ–¹æ³•ï¼Œä½¿å¾—å¯¹äºä»¥å‰è´ªå¿ƒçš„æ–¹æ³•æœ‰äº†æ›´æ·±åˆ»çš„ç†è§£ã€‚è¿™ä¸¤ç§æ–¹æ³•çš„æœ¬è´¨æ€æƒ³æ˜¯ç›¸åŒçš„ã€‚ @ <strong>2015å¹´3æœˆ14æ—¥</strong></p><h2 id=hdu-1003>HDU 1003<a hidden class=anchor aria-hidden=true href=#hdu-1003>#</a></h2><p>è¿™é“é¢˜ç›®ä¸Šé¢ä¸€é“é¢˜ç›®æ˜¯å·®ä¸å¤šçš„ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$f[i] = \max{\left\{f[i - 1] + \mathrm{pData}[i], \mathrm{pData}[i]\right\}}$$ å”¯ä¸€çš„ä¸€ä¸ªåŒºåˆ«æ˜¯çŠ¶æ€è½¬ç§»çš„æ—¶å€™å¹¶ä¸èƒ½ä¸¥æ ¼å¤§äºï¼Œå› ä¸ºå®ƒè¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªï¼Œå› æ­¤å·¦ç«¯ç‚¹ä¸€å®šæ˜¯è¶Šå°è¶Šå¥½ã€‚</p><p>å¦‚æœä½¿ç”¨ä¸¥æ ¼å¤§äºçš„è¯ï¼Œå‡è®¾å‰é¢æœ‰ $X$ ä¸ªæ•°åŠ èµ·æ¥ç­‰äº 0ï¼Œå®ƒå¹¶ä¸å½±å“æœ€ç»ˆå’Œçš„ç­”æ¡ˆï¼Œä½†æ˜¯å´ä½¿å¾—æ±‚å‡ºçš„ç­”æ¡ˆä¸æ˜¯ç¬¬ä¸€ä¸ªäº†ã€‚</p><p>å…¶ä½™çš„ä»£ç å’Œä¸Šé¢ä¸€é“é¢˜ç›®æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ï¼Œæ³¨æ„ä¸€ä¸‹è¾“å‡ºæ ¼å¼ã€‚</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;memory.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>102400</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> l, r, ans, al, ar;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> pData[MAX], f[MAX];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    ios<span style=color:#f92672>::</span>sync_with_stdio(false);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> K, N;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>(cin <span style=color:#f92672>&gt;&gt;</span> K)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> K; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> N;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> N; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            { cin <span style=color:#f92672>&gt;&gt;</span> pData[j]; }
</span></span><span style=display:flex><span>            l <span style=color:#f92672>=</span> r <span style=color:#f92672>=</span> al <span style=color:#f92672>=</span> ar <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; ans <span style=color:#f92672>=</span> pData[<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>            memset(f, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(f));
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> N; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span>(f[j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> pData[j] <span style=color:#f92672>&gt;=</span> pData[j])    <span style=color:#75715e>// æ­¤å¤„ä¸ºéä¸¥æ ¼å¤§äº
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                { f[j] <span style=color:#f92672>=</span> f[j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> pData[j]; r <span style=color:#f92672>=</span> j; }
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>                { f[j] <span style=color:#f92672>=</span> pData[j]; l <span style=color:#f92672>=</span> r <span style=color:#f92672>=</span> j; }
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span>(f[j] <span style=color:#f92672>&gt;</span> ans) { ans <span style=color:#f92672>=</span> f[j]; al <span style=color:#f92672>=</span> l; ar <span style=color:#f92672>=</span> r; }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;Case &#34;</span> <span style=color:#f92672>&lt;&lt;</span> i <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;:&#34;</span> <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> al <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> ar <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(i <span style=color:#f92672>!=</span> K) { cout <span style=color:#f92672>&lt;&lt;</span> endl; }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>è¿™åˆ°é¢˜ç›®ä¸€å¼€å§‹æ˜¯ç”¨è´ªå¿ƒåšçš„ï¼Œä»Šå¤©é‡æ–°ç”¨åŠ¨æ€è§„åˆ’åšäº†ä¸€ä¸‹ã€‚ @ <strong>2015å¹´3æœˆ14æ—¥</strong></p><h2 id=hdu-1506>HDU 1506<a hidden class=anchor aria-hidden=true href=#hdu-1506>#</a></h2><p>è¿™é“é¢˜ç›®ä»¥å‰ç”¨å•è°ƒæ ˆåšè¿‡ï¼Œå•è°ƒæ ˆçš„æ€è·¯å¦‚ä¸‹ï¼šä¸æ–­çš„å°†çŸ©å½¢å…¥æ ˆï¼Œå½“å½“å‰è¦åŠ å…¥çš„çŸ©å½¢çš„é«˜åº¦å¤§äºæ ˆé¡¶çš„çŸ©å½¢é«˜åº¦æ—¶ï¼Œå°†æ ˆé¡¶çš„çŸ©å½¢å‡ºæ ˆï¼Œä¸å½“å‰çš„çŸ©å½¢åˆæˆä¸€ä¸ªå¤§çš„çŸ©å½¢ï¼Œé«˜åº¦ä¸ºè¾ƒçŸ­çš„çŸ©å½¢çš„é«˜åº¦ã€‚ç„¶åæŠŠå’Œåˆæˆçš„æ–°çš„çŸ©å½¢åŠ å…¥æ ˆé¡¶ï¼Œå¹¶ä¸”æ›´æ–°ç­”æ¡ˆã€‚è¿™æ ·æ‰«ä¸€éå°±å¥½äº†ã€‚</p><p>ä¸‹é¢ä»‹ç»DPçš„æ€æƒ³ï¼šæˆ‘ä»¬é¦–å…ˆè€ƒè™‘è¿™æ ·ä¸€ä»¶äº‹æƒ…ï¼Œä¸€æ®µçŸ©å½¢çš„é¢ç§¯å–å†³äºçŸ©å½¢çš„ä¸ªæ•°ä»¥åŠæœ€çŸ®çš„çŸ©å½¢çš„é«˜åº¦ã€‚æˆ‘ä»¬å¯ä»¥æšä¸¾æ¯ä¸€ä¸ªçŸ©å½¢ï¼Œç„¶åå¾€å·¦å³ä¸¤è¾¹æšä¸¾è¿ç»­æ¯”å®ƒé«˜çš„çŸ©å½¢çš„æ€»ä¸ªæ•° $N$ï¼Œé‚£ä¹ˆå°±æ›´æ–°ç­”æ¡ˆã€‚</p><p>ä¸‹é¢å°±è¦è€ƒè™‘å¦‚ä½•å¿«é€Ÿçš„æ±‚å‡ºå·¦å³ä¸¤è¾¹è¿ç»­æ¯”å®ƒé«˜çš„çŸ©å½¢çš„æ€»ä¸ªæ•°ã€‚</p><p>æˆ‘ä»¬ä¸å¦¨è€ƒè™‘å·¦è¾¹çš„æƒ…å†µï¼Œç”¨ $\mathrm{pLeft}[i]$ è¡¨ç¤ºç¬¬ $i$ ä¸ªçŸ©å½¢å·¦è¾¹è¿ç»­æ¯”å®ƒé«˜çš„çŸ©å½¢æœ€å·¦è¾¹çš„çŸ©å½¢çš„ç¼–å·ã€‚é‚£ä¹ˆå¦‚æœæˆ‘ä»¬æœ‰å¦å¤–ä¸€ä¸ªçŸ©å½¢ $j$ï¼Œå­˜åœ¨ $\mathrm{pData}[j] &lt; \mathrm{pData}[i]$ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°† $\mathrm{pLeft}[j]$ ç½®ä¸º $\mathrm{pLeft}[i]$ï¼Œç„¶åå†å¾€å·¦è¿­ä»£ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå·¦å³ä¸¤è¾¹éœ€è¦åˆ†å¼€è¿›è¡Œã€‚å› ä¸ºä»å·¦å¾€å³åªèƒ½ä¿è¯ $\mathrm{pLeft}$ æ•°ç»„è¢«æ›´æ–°äº†ï¼Œå¯ä»¥è¿›è¡Œè¿­ä»£ï¼Œè€Œ $\mathrm{pRight}$ åˆ™è¿˜æ˜¯ç±»ä¼¼ä¹‹å‰çš„æš´æœä¸€æ ·ï¼Œå¤æ‚åº¦å¾ˆé«˜ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†å·¦å³ä¸¤è¾¹åˆ†å¼€è¿­ä»£ã€‚</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdio.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>102400</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> pData[MAX], pLeft[MAX], pRight[MAX];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> <span style=color:#a6e22e>max</span>(<span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> x, <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> y);
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> N;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> ans;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>(scanf(<span style=color:#e6db74>&#34;%I64d&#34;</span>, <span style=color:#f92672>&amp;</span>N) <span style=color:#f92672>!=</span> EOF <span style=color:#f92672>&amp;&amp;</span> N)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            scanf(<span style=color:#e6db74>&#34;%I64d&#34;</span>, <span style=color:#f92672>&amp;</span>pData[i]);
</span></span><span style=display:flex><span>            pLeft[i] <span style=color:#f92672>=</span> pRight[i] <span style=color:#f92672>=</span> i;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> nCur <span style=color:#f92672>=</span> i <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span>(nCur <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> pData[i] <span style=color:#f92672>&lt;=</span> pData[nCur])
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                pLeft[i] <span style=color:#f92672>=</span> pLeft[nCur];
</span></span><span style=display:flex><span>                nCur <span style=color:#f92672>=</span> pLeft[nCur] <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> N; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; i<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> nCur <span style=color:#f92672>=</span> i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span>(nCur <span style=color:#f92672>&lt;=</span> N <span style=color:#f92672>&amp;&amp;</span> pData[i] <span style=color:#f92672>&lt;=</span> pData[nCur])
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                pRight[i] <span style=color:#f92672>=</span> pRight[nCur];
</span></span><span style=display:flex><span>                nCur <span style=color:#f92672>=</span> pRight[nCur] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        { ans <span style=color:#f92672>=</span> max(ans, pData[i] <span style=color:#f92672>*</span> (pRight[i] <span style=color:#f92672>-</span> pLeft[i] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)); }
</span></span><span style=display:flex><span>        printf(<span style=color:#e6db74>&#34;%I64d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, ans);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> <span style=color:#a6e22e>max</span>(<span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> x, <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> y)
</span></span><span style=display:flex><span>{ <span style=color:#66d9ef>return</span> x <span style=color:#f92672>&gt;</span> y <span style=color:#f92672>?</span> x : y; }
</span></span></code></pre></td></tr></table></div></div><p>è¿™é“é¢˜ç›®æ²¡æœ‰ä¸¥æ ¼çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œåªæœ‰ä¸€ä¸ªçŠ¶æ€è½¬ç§»çš„æ€æƒ³ã€‚ @ <strong>2015å¹´3æœˆ15æ—¥</strong></p><h2 id=hdu-1505>HDU 1505<a hidden class=anchor aria-hidden=true href=#hdu-1505>#</a></h2><p>è¿™é“é¢˜ç›®æ˜¯ä¸Šé¢ä¸€é“é¢˜ç›®çš„åŠ å¼ºç‰ˆï¼Œå˜æˆäº†ä¸€ä¸ªäºŒç»´çš„é—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·è½¬åŒ–ã€‚</p><p>æšä¸¾æ¯ä¸€è¡Œï¼Œæ¯ä¸€è¡Œä¸­çš„æ¯ä¸ªç‚¹å‘ä¸Šæœæœ‰ $X$ ä¸ªè¿ç»­çš„ &lsquo;F&rsquo;ï¼Œå°±è¡¨ç¤ºè¿™ä¸ªç‚¹æ‰€è¡¨ç¤ºçš„çš„çŸ©å½¢çš„é«˜åº¦ä¸º $X$ï¼Œç„¶åæ¯ä¸€è¡Œä½¿ç”¨ä¸€æ¬¡ä¸Šä¸€é“é¢˜ç›®çš„åŠ¨æ€è§„åˆ’æ€æƒ³å³å¯ï¼Œå¤æ‚åº¦$O\left(N^2 * \log{N}\right)$ã€‚</p><p>å…³é”®é—®é¢˜åœ¨äºå¦‚ä½•åœ¨æœ€çŸ­çš„æ—¶é—´å†…æ„é€ å‡ºè¿™æ ·çš„ä¸€ä¸ªæ•°ç»„ $\mathrm{pData}$ï¼Œä½¿å¾— $\mathrm{pData}[i][j]$ è¡¨ç¤ºä»ç¬¬ $i$ è¡Œç¬¬ $j$ ä¸ªå‘ä¸Šæœç´¢æœ‰å‡ ä¸ªè¿ç»­çš„ &lsquo;F&rsquo;ã€‚</p><p>æˆ‘ä»¬å¯ä»¥è€ƒè™‘ä¸€ä¸ªç±»ä¼¼å‰ç¼€å’Œçš„æ€æƒ³ï¼Œå¦‚æœå½“å‰è¯»å…¥çš„åœ°å½¢ä¸º &lsquo;F&rsquo;ï¼Œé‚£ä¹ˆ $\mathrm{pData}[i][j] = \mathrm{pData}[i - 1][j] + 1$ï¼Œè¡¨ç¤ºå’Œä¸Šé¢ç»„æˆä¸€ä¸ªæ›´å¤§çš„çŸ©å½¢ï¼›å¦åˆ™ï¼Œ$\mathrm{pData}[i][j] = 0$ï¼Œè¡¨ç¤ºä¸èƒ½å’Œä¸Šé¢çš„ç»„æˆæ›´å¤§çš„çŸ©å½¢ã€‚</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">51
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">52
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">53
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">54
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">55
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">56
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">57
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">58
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">59
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">60
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">61
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">62
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">63
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">64
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;memory.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>1024</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> pLeft[MAX], pRight[MAX];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> pMap[MAX][MAX], pData[MAX][MAX];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>char</span> dwTmp;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> T, M, N;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> T;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>(T)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        T<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        memset(pData, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(pData));
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> M <span style=color:#f92672>&gt;&gt;</span> N;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> M; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> N; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                cin <span style=color:#f92672>&gt;&gt;</span> dwTmp;
</span></span><span style=display:flex><span>                pMap[i][j] <span style=color:#f92672>=</span> (dwTmp <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;R&#39;</span> <span style=color:#f92672>?</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span>pMap[i][j]) { pData[i][j] <span style=color:#f92672>=</span> pData[i <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>][j] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; }
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span> { pData[i][j] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> M; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            memset(pLeft, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(pLeft));
</span></span><span style=display:flex><span>            memset(pRight, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(pRight));
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> N; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            { pLeft[j] <span style=color:#f92672>=</span> pRight[j] <span style=color:#f92672>=</span> j; }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> N; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> nCur <span style=color:#f92672>=</span> j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>while</span>(nCur <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> pData[i][j] <span style=color:#f92672>&lt;=</span> pData[i][nCur])
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    pLeft[j] <span style=color:#f92672>=</span> pLeft[nCur];
</span></span><span style=display:flex><span>                    nCur <span style=color:#f92672>=</span> pLeft[nCur] <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> N; j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> nCur <span style=color:#f92672>=</span> j <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>while</span>(nCur <span style=color:#f92672>&lt;=</span> N <span style=color:#f92672>&amp;&amp;</span> pData[i][j] <span style=color:#f92672>&lt;=</span> pData[i][nCur])
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    pRight[j] <span style=color:#f92672>=</span> pRight[nCur];
</span></span><span style=display:flex><span>                    nCur <span style=color:#f92672>=</span> pRight[nCur] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> nTmp <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> N; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            { nTmp <span style=color:#f92672>=</span> max(nTmp, pData[i][j] <span style=color:#f92672>*</span> (pRight[j] <span style=color:#f92672>-</span> pLeft[j] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)); }
</span></span><span style=display:flex><span>            ans <span style=color:#f92672>=</span> max(ans, nTmp);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> ans  <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>è¿™é“é¢˜ç›®éœ€è¦ä¸€ä¸ªè½¬åŒ–çš„æ€æƒ³ï¼ŒæŠŠäºŒç»´çš„åœ°å›¾è½¬åŒ–ä¸ºä¸€ç»´çš„æƒ…å†µï¼Œç„¶åè°ƒç”¨Néå¤„ç†ä¸€ç»´é—®é¢˜çš„ç®—æ³•ï¼Œå°±å¯ä»¥è§£å†³é—®é¢˜äº†ã€‚ @ <strong>2015å¹´3æœˆ15æ—¥</strong></p><h2 id=hdu-2602>HDU 2602<a hidden class=anchor aria-hidden=true href=#hdu-2602>#</a></h2><p>ç®€å•çš„ 0/1 èƒŒåŒ…é—®é¢˜ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š$$f[j] = \max{\left\{f[j - \mathrm{pCost}[i]] + \mathrm{pValue}[i], f[j]\right\}}$$</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;memory.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>1024</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> pCost[MAX], pValue[MAX], f[MAX];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> T, N, V;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> T;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>(T)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        T<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>        memset(f, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(f));
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> N <span style=color:#f92672>&gt;&gt;</span> V;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        { cin <span style=color:#f92672>&gt;&gt;</span> pValue[i]; }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        { cin <span style=color:#f92672>&gt;&gt;</span> pCost[i]; }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> V; j <span style=color:#f92672>&gt;=</span> pCost[i]; j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>            { f[j] <span style=color:#f92672>=</span> max(f[j <span style=color:#f92672>-</span> pCost[i]] <span style=color:#f92672>+</span> pValue[i], f[j]); }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> V; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        { ans <span style=color:#f92672>=</span> max(ans, f[i]); }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>è¿™é“é¢˜ç›®æ¯”è¾ƒç®€å•ã€‚ @ <strong>2015å¹´3æœˆ15æ—¥</strong></p><h2 id=hdu-1087>HDU 1087<a hidden class=anchor aria-hidden=true href=#hdu-1087>#</a></h2><p>è¿™é“é¢˜ç›®æ˜¯æ±‚ä¸Šå‡åºåˆ—çš„æœ€å¤§å’Œã€‚ç”¨ $f[i]$ è¡¨ç¤ºä»¥ç¬¬ $i$ ä¸ªèŠ‚ç‚¹ç»“å°¾å¯ä»¥è¾¾åˆ°çš„æœ€å¤§å’Œï¼Œé‚£è®²æœ€é•¿ä¸Šå‡åºåˆ—æ”¹é€ ä¸€ä¸‹å³å¯ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹åŸºæœ¬ä¸å˜ï¼š$$f[i] = \max{\left\{f[j]\right\}} + \mathrm{pData}[i]$$ å…¶ä¸­ $1\leq j &lt; i$ã€‚</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;memory.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>1024</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> pData[MAX], f[MAX], pSum[MAX];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> N;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>(cin <span style=color:#f92672>&gt;&gt;</span> N <span style=color:#f92672>&amp;&amp;</span> N)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        { cin <span style=color:#f92672>&gt;&gt;</span> pData[i]; }
</span></span><span style=display:flex><span>        memset(f, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(f));
</span></span><span style=display:flex><span>        f[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> pData[<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> nTmp <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;</span> i; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span>(pData[j] <span style=color:#f92672>&lt;</span> pData[i])
</span></span><span style=display:flex><span>                { nTmp <span style=color:#f92672>=</span> max(nTmp, f[j]); }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            f[i] <span style=color:#f92672>=</span> nTmp <span style=color:#f92672>+</span> pData[i];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        { ans <span style=color:#f92672>=</span> max(ans, f[i]); }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>è¿™é“é¢˜ç›®ä¹Ÿä¸éš¾ã€‚ @ <strong>2015å¹´3æœˆ15æ—¥</strong></p><h2 id=hdu-2571>HDU 2571<a hidden class=anchor aria-hidden=true href=#hdu-2571>#</a></h2><p>è¿™æ˜¯ä¸€é“åŠ¨æ€è§„åˆ’çš„é¢˜ç›®ï¼Œåªä¸è¿‡è½¬ç§»çš„æ—¶å€™éœ€è¦è€ƒè™‘çš„æƒ…å†µå˜å¤šäº†ã€‚ä¸ä½†è¦è€ƒè™‘ä»ç‚¹ $(i - 1, j)$ï¼Œ$(i, j - 1)$ ä»¥åŠ $(i, j / k)$ è½¬ç§»è¿‡æ¥ï¼Œå…¶ä¸­ $k$ ä¸º $j$ çš„çº¦æ•°ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ•°æ®å¯èƒ½ä¸ºè´Ÿæ•°ï¼Œå› æ­¤éœ€è¦å°†åˆå€¼ç½®ä¸º -2147483647ï¼Œæ›´æ–°çš„æ—¶å€™éœ€è¦æ³¨æ„åˆå€¼æ˜¯å¦æ”¹å˜ï¼Œå¦‚æœæ²¡æœ‰æ”¹å˜ï¼Œè¯´æ˜æ²¡æœ‰çŠ¶æ€èƒ½å¤Ÿè½¬ç§»è¿‡æ¥ï¼Œå› æ­¤ä¸éœ€è¦æ“ä½œï¼ˆä¹Ÿå°±æ˜¯åŠ  0ï¼‰ï¼Œå¦åˆ™å°±æŠŠè¯¥æ•°å€¼åŠ ä¸Šå»ï¼Œå¹¶ä¸”åœ¨åŠ ä¸ŠåŸæ¥åœ°å›¾ä¸Šçš„æ•°å€¼ã€‚</p><p>è¿˜éœ€è¦æ³¨æ„çš„æ—¶ï¼Œè½¬ç§»çš„æ—¶å€™åº”è¯¥ä½¿ç”¨åŠ¨æ€è§„åˆ’ä½¿ç”¨çš„æ•°ç»„ï¼Œè€Œä¸æ˜¯åœ°å›¾ä¸Šçš„æ•°æ®ã€‚</p><p>æœ€åï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$ f[i][j] = \max{\left\{f[i - 1][j], f[i][j - 1], f[i][\frac{j}{k}]\right\}} + \mathrm{pData}[i][j]$$ å…¶ä¸­ $f[i][j]$ è¡¨ç¤ºèµ°åˆ°ç‚¹ $(i, j)$ èƒ½å¤Ÿè·å¾—çš„æœ€å¤§å¹¸è¿å€¼ï¼ŒåŒæ—¶ $k$ æ˜¯ $j$ çš„çº¦æ•°ã€‚</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;memory.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>1024</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> pMap[MAX][MAX], f[MAX][MAX];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> C, N, M;
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> C;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>(C)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        C<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>        memset(f, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(f));
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> N <span style=color:#f92672>&gt;&gt;</span> M;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> M; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            { cin <span style=color:#f92672>&gt;&gt;</span> pMap[i][j]; }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> M; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>int</span> nTmp <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>2147483647</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span>(i <span style=color:#f92672>!=</span> <span style=color:#ae81ff>1</span>) { nTmp <span style=color:#f92672>=</span> max(nTmp, f[i <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>][j]); }
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span>(j <span style=color:#f92672>!=</span> <span style=color:#ae81ff>1</span>) { nTmp <span style=color:#f92672>=</span> max(nTmp, f[i][j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>]); }
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; k <span style=color:#f92672>&lt;=</span> j; k<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span>(j <span style=color:#f92672>%</span> k <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) { nTmp <span style=color:#f92672>=</span> max(nTmp, f[i][j <span style=color:#f92672>/</span> k]); }
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                f[i][j] <span style=color:#f92672>=</span> (nTmp <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>2147483647</span> <span style=color:#f92672>?</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>:</span> nTmp) <span style=color:#f92672>+</span> pMap[i][j];
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> f[N][M] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>è¿™é“é¢˜ç›®å’Œå…¸å‹çš„èµ°è¿·å®«å·®ä¸å¤šï¼Œåªæ˜¯çŠ¶æ€è½¬ç§»çš„æ—¶å€™éœ€è¦è€ƒè™‘æ›´å¤šçš„æƒ…å†µã€‚è¿˜éœ€è¦æ³¨æ„çš„æ˜¯è¾“å…¥çš„æ•°æ®æœ‰è´Ÿæ•°çš„æƒ…å†µã€‚ @ <strong>2015å¹´3æœˆ15æ—¥</strong></p><h2 id=hdu-1069>HDU 1069<a hidden class=anchor aria-hidden=true href=#hdu-1069>#</a></h2><p>è¿™é“é¢˜ç›®ä¹Ÿå¯ä»¥è¿ç”¨åŠ¨æ€è§„åˆ’æ¥æ±‚è§£ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†å‡ ä¸ªå°é—®é¢˜ã€‚</p><p>é¦–å…ˆæ˜¯å¯¹äºé¢˜ç›®ä¸­æ‰€è®²çš„æ¯ä¸ªçŸ©å½¢æœ‰æ— ç©·ä¸ªçš„å¤„ç†æ–¹æ³•ã€‚æ ¹æ®é¢˜ç›®æ¡ä»¶ï¼Œæ¯ç±»æ–¹å—å¯ä»¥è½¬åŒ–æˆ3ç±»æ–¹å—è€ƒè™‘ä»¥å“ªæ¡è¾¹ä¸ºé«˜åº¦ï¼‰ï¼Œå†è€ƒè™‘åº•é¢çš„è¾¹é•¿å¯ä»¥äº’æ¢ï¼Œå› æ­¤æ— æ•°ä¸ªä¸€ç±»æ–¹å—å¯ä»¥è½¬åŒ–ä¸ºæœ‰é™çš„ 6 ä¸ªæ–¹å—æ¥æ±‚è§£ã€‚</p><p>ä¸ºäº†ä¿è¯åŠ¨æ€è§„åˆ’çš„æ­£ç¡®æ€§ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œå¯é€‰çš„ä¸¤ç§æ’åºæ–¹æ³•å¦‚ä¸‹ï¼š</p><ul><li>æŒ‰ç…§ $x$ é€’å¢ï¼Œç„¶åæŒ‰ç…§ $y$ é€’å¢ï¼Œæœ€åæŒ‰ç…§ $z$ é€’å¢ï¼›</li><li>æŒ‰ç…§ $xy$ é€’å¢ã€‚</li></ul><p>æˆ‘ä»¬ç”¨ $f[i]$ è¡¨ç¤ºä»¥ç¬¬ $i$ ä¸ªæ–¹å—ä¸ºæœ€åä¸€ä¸ªæ–¹å—æ‰€èƒ½åˆ°è¾¾çš„æœ€å¤§é«˜åº¦ã€‚é‚£ä¹ˆçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$f[i] = \max{\left\{f[j]\right\}} + \mathrm{pData}[i].z$$ å…¶ä¸­ $pData[i].z$ è¡¨ç¤ºç¬¬ $i$ ä¸ªæ–¹å—çš„é«˜åº¦ï¼Œä¸”æ»¡è¶³ $1\leq j &lt; i$ã€‚</p><p>æ­¤å¤–è½¬ç§»çš„æ¡ä»¶ä¸ºå¯ä»¥å°†ç¬¬ $i$ ä¸ªæ–¹å—æ”¾åˆ°ç¬¬ $j$ ä¸ªæ–¹å—ä¸Šé¢ï¼Œæˆ–è€…ç¬¬ $i$ ä¸ªæ–¹å—å¯ä»¥æ”¾åˆ°ç¬¬ $j$ ä¸ªæ–¹å—çš„ä¸‹é¢ï¼Œå³ $$\begin{cases} \mathrm{pData}[i].x &lt; \mathrm{pData}[j].x \\ \mathrm{pData}[i].y &lt; \mathrm{pData}[j].y\end{cases}\quad\mathrm{or}\quad\begin{cases}\mathrm{pData}[i].x > \mathrm{pData}[i].x\\ \mathrm{pData}[i].y > \mathrm{pData}[i].y\end{cases}$$</p><p>æœ€åçš„ç­”æ¡ˆå°±æ˜¯ $\max{\left\{\mathrm{pData}[i].z\right\}}$ã€‚</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">51
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">52
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">53
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">54
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">55
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">56
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">57
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">58
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">59
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">60
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">61
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">62
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">63
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">64
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">65
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">66
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">67
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">68
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">69
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;memory.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;vector&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>512</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Block</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    Block(<span style=color:#66d9ef>int</span> _x <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>int</span> _y <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>int</span> _z <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>    { x <span style=color:#f92672>=</span> _x; y <span style=color:#f92672>=</span> _y; z <span style=color:#f92672>=</span> _z; }
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> x, y, z;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>cmp</span>(Block a, Block b)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(a.x <span style=color:#f92672>!=</span> b.x) { <span style=color:#66d9ef>return</span> a.x <span style=color:#f92672>&lt;</span> b.x; }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(a.y <span style=color:#f92672>!=</span> b.y) { <span style=color:#66d9ef>return</span> a.y <span style=color:#f92672>&lt;</span> b.y; }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> { <span style=color:#66d9ef>return</span> a.z <span style=color:#f92672>&lt;</span> b.z; }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#66d9ef>operator</span> <span style=color:#f92672>&lt;</span> (Block a, Block b)
</span></span><span style=display:flex><span>{ <span style=color:#66d9ef>return</span> a.x <span style=color:#f92672>&lt;</span> b.x <span style=color:#f92672>&amp;&amp;</span> a.y <span style=color:#f92672>&lt;</span> b.y; }
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#66d9ef>operator</span> <span style=color:#f92672>&gt;</span> (Block a, Block b)
</span></span><span style=display:flex><span>{ <span style=color:#66d9ef>return</span> a.x <span style=color:#f92672>&gt;</span> b.x <span style=color:#f92672>&amp;&amp;</span> a.y <span style=color:#f92672>&gt;</span> b.y; }
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[MAX], ans;
</span></span><span style=display:flex><span>vector<span style=color:#f92672>&lt;</span>Block<span style=color:#f92672>&gt;</span> pVec;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> N, nCase <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, x, y, z;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>(cin <span style=color:#f92672>&gt;&gt;</span> N <span style=color:#f92672>&amp;&amp;</span> N)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;Case &#34;</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#f92672>++</span>nCase <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;: maximum height = &#34;</span>;
</span></span><span style=display:flex><span>        ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        pVec.clear();
</span></span><span style=display:flex><span>        memset(f, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(f));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> x <span style=color:#f92672>&gt;&gt;</span> y <span style=color:#f92672>&gt;&gt;</span> z;
</span></span><span style=display:flex><span>            pVec.push_back(Block(x, y, z));
</span></span><span style=display:flex><span>            pVec.push_back(Block(x, z, y));
</span></span><span style=display:flex><span>            pVec.push_back(Block(y, x, z));
</span></span><span style=display:flex><span>            pVec.push_back(Block(y, z, x));
</span></span><span style=display:flex><span>            pVec.push_back(Block(z, x, y));
</span></span><span style=display:flex><span>            pVec.push_back(Block(z, y, x));
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        sort(pVec.begin(), pVec.end(), cmp);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> pVec.size(); i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> nTmp <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> i; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span>(pVec[i] <span style=color:#f92672>&lt;</span> pVec[j] <span style=color:#f92672>||</span> pVec[i] <span style=color:#f92672>&gt;</span> pVec[j])
</span></span><span style=display:flex><span>                { nTmp <span style=color:#f92672>=</span> max(nTmp, pVec[j].z); }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            pVec[i].z <span style=color:#f92672>+=</span> nTmp;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> pVec.size(); i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        { ans <span style=color:#f92672>=</span> max(ans, pVec[i].z); }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>è¿™é“é¢˜ç›®ä¹Ÿæ˜¯ç”¨äº†ä¸€ä¸ªåŠ¨æ€è§„åˆ’çš„æ€æƒ³ï¼ŒæŠŠæ•°æ®æ’åºä»¥åå°±å¯ä»¥æ˜¯ç”¨åŠ¨æ€è§„åˆ’äº†ã€‚åªæ˜¯è¦æ³¨æ„å¯ä»¥æ”¾åœ¨ä¸Šé¢ä¹Ÿå¯ä»¥æ”¾åœ¨ä¸‹é¢ã€‚è¿˜æœ‰å°±æ˜¯æŠŠæ— ç©·ä¸ªæ–¹å—è½¬åŒ–ä¸º 6 ä¸ªæ–¹å—ï¼Œä½¿å¾—é—®é¢˜å¾—åˆ°ç®€åŒ–ã€‚ @ <strong>2015å¹´3æœˆ15æ—¥</strong></p><h2 id=hdu-1171>HDU 1171<a hidden class=anchor aria-hidden=true href=#hdu-1171>#</a></h2><p>å°†æ¯ç§ç‰©å“éƒ½å˜æˆ $M$ ä¸ªä½“ç§¯ä¸º $V$ çš„ç‰©å“ï¼Œç„¶åè¿›è¡Œä¸€é 0/1 èƒŒåŒ…ã€‚</p><p>æˆ‘ä»¬ç”¨ $f[j]$ è¡¨ç¤ºè£…ä½“ç§¯ä¸º $V$ çš„ç‰©å“æ˜¯å¦å¯è¡Œï¼ˆå¯è¡Œä¸º 1ï¼Œä¸å¯è¡Œä¸º 0ï¼‰ã€‚åˆå§‹åŒ–æ—¶ï¼Œå¯¹äºæ¯ç§ç‰©å“å‡æœ‰ $f[V] = 0$;</p><p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$f[j] = 1 \quad\mathrm{iff.}~~ f[j - \mathrm{pCost}[i]] = 1$$</p><p>æœ€åæˆ‘ä»¬åªè¦è®¡ç®—å°äºç­‰äº $V / 2$ çš„æƒ…å†µä¸‹æœ€å¤šèƒ½å¤Ÿè£…å¤šå°‘ä½“ç§¯çš„ç‰©å“ï¼Œè®°ä½œ $\mathrm{ans}$ã€‚é‚£ä¹ˆç­”æ¡ˆå°±æ˜¯ $V - \mathrm{ans}$ ä»¥åŠ $\mathrm{ans}$ã€‚</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;memory.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>1024000</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> V, C;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> pCost[MAX], f[MAX];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> N, x, y;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>(cin <span style=color:#f92672>&gt;&gt;</span> N)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(N <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) { <span style=color:#66d9ef>break</span>; }
</span></span><span style=display:flex><span>        V <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; C <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        memset(f, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(f));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> x <span style=color:#f92672>&gt;&gt;</span> y;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> y; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            { pCost[<span style=color:#f92672>++</span>C] <span style=color:#f92672>=</span> x; V <span style=color:#f92672>+=</span> x; f[x] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> C; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> V; j <span style=color:#f92672>&gt;=</span> pCost[i]; j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span>(f[j <span style=color:#f92672>-</span> pCost[i]] <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) { f[j] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> V <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(f[i]) { ans <span style=color:#f92672>=</span> i; }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> V <span style=color:#f92672>-</span> ans <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>è¿™é“é¢˜ç›®ä¸»è¦è€ƒå¯Ÿä¸€ä¸ªåŠ¨æ€è§„åˆ’çš„æ€æƒ³ï¼Œé€šè¿‡çŠ¶æ€çš„è½¬ç§»æ¥æ±‚è§£ä¸€å…±èƒ½å¤Ÿè£…å¤šå°‘ä½“ç§¯çš„ç‰©å“ã€‚ @ <strong>2015å¹´3æœˆ23æ—¥</strong></p><h2 id=hdu-2084>HDU 2084<a hidden class=anchor aria-hidden=true href=#hdu-2084>#</a></h2><p>æ•°å­—ä¸‰è§’å½¢ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$f[i][j] += \max{\left\{f[i + 1][j], f[i + 1][j + 1]\right\}}$$</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;memory.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>1024000</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> V, C;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> pCost[MAX], f[MAX];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> N, x, y;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>(cin <span style=color:#f92672>&gt;&gt;</span> N)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(N <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) { <span style=color:#66d9ef>break</span>; }
</span></span><span style=display:flex><span>        V <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; C <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        memset(f, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(f));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> x <span style=color:#f92672>&gt;&gt;</span> y;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> y; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            { pCost[<span style=color:#f92672>++</span>C] <span style=color:#f92672>=</span> x; V <span style=color:#f92672>+=</span> x; f[x] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> C; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> V; j <span style=color:#f92672>&gt;=</span> pCost[i]; j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span>(f[j <span style=color:#f92672>-</span> pCost[i]] <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) { f[j] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> V <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(f[i]) { ans <span style=color:#f92672>=</span> i; }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> V <span style=color:#f92672>-</span> ans <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>æœ€ä¸ºç»å…¸çš„åŠ¨æ€è§„åˆ’é¢˜ç›®ã€‚ @ <strong>2015å¹´3æœˆ23æ—¥</strong></p><h2 id=hdu-1176>HDU 1176<a hidden class=anchor aria-hidden=true href=#hdu-1176>#</a></h2><p>æˆ‘ä»¬ç”¨ $f[i][j]$ æ¥è¡¨ç¤ºç¬¬ $i$ æ—¶é—´åœ¨ç¬¬ $j$ ä¸ªä½ç½®ä¸Šèƒ½å¤Ÿæ¥åˆ°çš„é¦…é¥¼æ€»æ•°ã€‚</p><p>é‚£ä¹ˆçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$f[i][j] += \max{\left\{f[i + 1][j - 1], f[i + 1][j], f[i + 1][j + 1]\right\}}$$</p><p>è¿™é‡Œé‡‡ç”¨å€’æ¨æ³•ï¼Œå› ä¸ºæœ€åæˆ‘ä»¬ä¸€å¼€å§‹çš„èµ·å§‹ä½ç½®åœ¨ 5ã€‚å› æ­¤åªéœ€è¦è¾“å‡º $f[0][5]$ å³å¯ã€‚</p><p>å½“ç„¶ï¼Œè¿™é‡Œè¿˜éœ€è¦å¤„ç†ä¸€ä¸‹è¾¹ç•Œ 0 å’Œ 10 çš„æƒ…å†µï¼Œå…·ä½“è¡¨ç°ä¸ºï¼š$$\begin{cases} f[i][0] = f[i][0] + \max{\left\{f[i + 1][0], f[i + 1][1]\right\}}\\ f[i][10] = f[i][10] + \max{\left\{f[i + 1][9], f[i + 1][10]\right\}}\end{cases}$$</p><p>è¯»å…¥æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç½® <code>f[T][X]++</code>ï¼Œå…¶ä¸­ $T$ ä¸ºæ—¶é—´ç‚¹ï¼Œ$X$ ä¸ºåæ ‡ã€‚</p><p>æœ€åï¼Œæœ€å¤§çš„æ—¶é—´ç‚¹ $T$ï¼Œæˆ‘ä»¬ä» $T-1$ éå†åˆ°0ã€‚</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;memory.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>102400</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[MAX][<span style=color:#ae81ff>16</span>];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>max</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y);
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>max</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y, <span style=color:#66d9ef>int</span> z);
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    ios<span style=color:#f92672>::</span>sync_with_stdio(false);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> N, X, T, nCnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>(cin <span style=color:#f92672>&gt;&gt;</span> N <span style=color:#f92672>&amp;&amp;</span> N)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        memset(f, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(f));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> X <span style=color:#f92672>&gt;&gt;</span> T;
</span></span><span style=display:flex><span>            f[T][X]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>            nCnt <span style=color:#f92672>=</span> max(nCnt, T);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> nCnt <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; i<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            f[i][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>+=</span> max(f[i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>0</span>], f[i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span>; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            { f[i][j] <span style=color:#f92672>+=</span> max(f[i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>], f[i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][j], f[i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][j <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>]); }
</span></span><span style=display:flex><span>            f[i][<span style=color:#ae81ff>10</span>] <span style=color:#f92672>+=</span> max(f[i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>9</span>], f[i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>10</span>]);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> f[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>5</span>] <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>max</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y)
</span></span><span style=display:flex><span>{ <span style=color:#66d9ef>return</span> x <span style=color:#f92672>&gt;</span> y <span style=color:#f92672>?</span> x : y; }
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>max</span>(<span style=color:#66d9ef>int</span> x, <span style=color:#66d9ef>int</span> y, <span style=color:#66d9ef>int</span> z)
</span></span><span style=display:flex><span>{ <span style=color:#66d9ef>return</span> max(x, max(y, z)); }
</span></span></code></pre></td></tr></table></div></div><p>è¿™é“é¢˜ç›®ä¹Ÿæ˜¯è€ƒè™‘çŠ¶æ€çš„è½¬ç§»ã€‚ @ <strong>2015å¹´3æœˆ23æ—¥</strong></p><h2 id=hdu-1203>HDU 1203<a hidden class=anchor aria-hidden=true href=#hdu-1203>#</a></h2><p>è¿™é“é¢˜ç›®å’Œä¸€å¼€å§‹åšåˆ°çš„ HDU 2955 æ˜¯å·®ä¸å¤šçš„é¢˜ç›®ï¼Œä¹Ÿæ˜¯ä¸€é“æ¦‚ç‡ DPã€‚åŒæ ·æˆ‘ä»¬è€ƒè™‘å®ƒçš„åé¢ï¼Œç”¨ $f[j]$ è¡¨ç¤ºèŠ±è´¹ $j$ ä¸‡å…ƒè¢«æ‰€æœ‰ offer æ‹’ç»çš„æœ€å°æ¦‚ç‡ï¼Œä¹Ÿå°±å¯¹åº”ç€è‡³å°‘è¢«ä¸€ä¸ª offer æ¥å—çš„æœ€å¤§æ¦‚ç‡ã€‚</p><p>ä¸ä¹‹ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä¸éœ€è¦è€ƒè™‘è½¬ç§»çš„æ¡ä»¶ï¼Œç›´æ¥ç½®æ‰€æœ‰çš„ $f[j] = 1$ã€‚è€ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹åˆ™ä¸ºï¼š$$f[j] = \min{\left\{f[j - \mathrm{pCost}[i]] \times \mathrm{pValue}[i], f[j]\right\}}$$ æœ€åè¾“å‡ºçš„æ—¶å€™æ³¨æ„ä¸€ä¸‹æ ¼å¼å³å¯ã€‚</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iomanip&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>10240</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> pCost[MAX];
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> pValue[MAX], f[MAX];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> N, M;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>(cin <span style=color:#f92672>&gt;&gt;</span> N <span style=color:#f92672>&gt;&gt;</span> M)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(N <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> M <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) { <span style=color:#66d9ef>break</span>; }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> M; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> pCost[i] <span style=color:#f92672>&gt;&gt;</span> pValue[i];
</span></span><span style=display:flex><span>            pValue[i] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> pValue[i];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        { f[i] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> M; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> N; j <span style=color:#f92672>&gt;=</span> pCost[i]; j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                f[j] <span style=color:#f92672>=</span> min(f[j <span style=color:#f92672>-</span> pCost[i]] <span style=color:#f92672>*</span> pValue[i], f[j]);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> fixed <span style=color:#f92672>&lt;&lt;</span> setprecision(<span style=color:#ae81ff>1</span>) <span style=color:#f92672>&lt;&lt;</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> f[N]) <span style=color:#f92672>*</span> <span style=color:#ae81ff>100</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;%&#34;</span> <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>åˆæ˜¯ä¸€é“æ¦‚ç‡ DPã€‚ @ <strong>2015å¹´3æœˆ23æ—¥</strong></p><h2 id=hdu-2159>HDU 2159<a hidden class=anchor aria-hidden=true href=#hdu-2159>#</a></h2><p>è¿™æ˜¯ä¸€ä¸ªäºŒç»´å®Œå…¨èƒŒåŒ…ï¼Œä¸€ä¸ªè£…æ€æ€ªæ•°ç›®ï¼Œä¸€ä¸ªè£…å¿è€å€¼ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨ $f[j][k]$ è¡¨ç¤ºæ€äº† $j$ ä¸ªæ€ªå…½ï¼Œä½¿ç”¨äº† $k$ ä¸ªå¿è€å€¼ï¼Œèƒ½å¤Ÿè·å¾—çš„æœ€å¤§ç»éªŒã€‚</p><p>é‚£ä¹ˆçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š$$f[j][k] = \max{\left\{f[j - 1][k - \mathrm{pBare}[i]] + \mathrm{pExp}[i], f[j][k]\right\}}$$</p><p>æœ€åï¼Œè‹¥ $f[S][M] &lt; N$ï¼Œåˆ™æ— è§£ã€‚å¦åˆ™æˆ‘ä»¬éœ€è¦æ±‚è§£èƒ½å¤Ÿå‡çº§çš„æƒ…å†µä¸‹æ‰€ä½¿ç”¨çš„æœ€å°‘çš„å¿è€å€¼ <code>nTmp</code>ï¼Œè¾“å‡º <code>M - nTmp</code> å³å¯ã€‚</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;memory.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>128</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> pExp[MAX], pBare[MAX];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[MAX][MAX];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> N, M, K, S;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>(cin <span style=color:#f92672>&gt;&gt;</span> N <span style=color:#f92672>&gt;&gt;</span> M <span style=color:#f92672>&gt;&gt;</span> K <span style=color:#f92672>&gt;&gt;</span> S)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        memset(f, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(f));
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> K; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        { cin <span style=color:#f92672>&gt;&gt;</span> pExp[i] <span style=color:#f92672>&gt;&gt;</span> pBare[i]; }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> K; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> S; j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> k <span style=color:#f92672>=</span> pBare[i]; k <span style=color:#f92672>&lt;=</span> M; k<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>                { f[j][k] <span style=color:#f92672>=</span> max(f[j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>][k <span style=color:#f92672>-</span> pBare[i]] <span style=color:#f92672>+</span> pExp[i], f[j][k]); }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(f[S][M] <span style=color:#f92672>&lt;</span> N) { cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> endl; }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> nTmp <span style=color:#f92672>=</span> M;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;=</span> S; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                 <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> M; j <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; j<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>                 {
</span></span><span style=display:flex><span>                     <span style=color:#66d9ef>if</span>(f[i][j] <span style=color:#f92672>&gt;=</span> N) { nTmp <span style=color:#f92672>=</span> min(nTmp, j); }
</span></span><span style=display:flex><span>                 }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> M <span style=color:#f92672>-</span> nTmp <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>ç¬¬ä¸€æ¬¡åšäºŒç»´èƒŒåŒ…çš„é—®é¢˜ï¼Œæ„Ÿè§‰ç†è§£é€äº†ï¼Œä¹Ÿä¸æ€ä¹ˆéš¾ã€‚ @ <strong>2015å¹´3æœˆ23æ—¥</strong></p><h2 id=hdu-2577>HDU 2577<a hidden class=anchor aria-hidden=true href=#hdu-2577>#</a></h2><p>æˆ‘ä»¬ä»¤ $f[i]$ã€$g[i]$ åˆ†åˆ«è¡¨ç¤ºè¾“å…¥å®Œ $i$ ä¸ªå­—ç¬¦åï¼ŒCaps Lock ç¯å…³ä¸å¼€çš„çŠ¶æ€ä¸‹æ‰€éœ€è¦çš„æŒ‰é”®æ¬¡æ•°ï¼Œæ˜“å¾—çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p><ul><li>ç¬¬ $i$ ä¸ªå­—æ¯å°å†™ï¼š$$f[i] = \min{\left\{f[i - 1] + 1, g[i - 1] + 2\right\}},\quad g[i] = \min{\left\{f[i - 1] + 2, g[i - 1] + 2\right\}}$$</li><li>ç¬¬ $i$ ä¸ªå­—æ¯å¤§å†™ï¼š$$f[i] = \min{\left\{f[i - 1] + 2, g[i - 1] + 2\right\}},\quad g[i] = \min{\left\{f[i - 1] + 2, g[i - 1] + 2\right\}}$$</li></ul><p>ä¸‹é¢æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ä¸Šé¢çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šç¬¬ $i$ ä¸ªå­—æ¯å°å†™ï¼Œè¦ä¿æŒæœ€å Caps Lock ç¯å…³ï¼Œé‚£ä¹ˆåœ¨ç¯å…³çš„çŠ¶æ€ä¸‹ç›´æ¥è¾“å…¥å­—æ¯ï¼Œå› æ­¤ä¸º <code>f[i - 1] + 1</code>ï¼›åœ¨ç¯å¼€çš„çŠ¶æ€ä¸‹å…³ç¯ï¼Œè¾“å…¥å­—æ¯ï¼Œå› æ­¤ä¸º <code>g[i - 1] + 2</code>ã€‚å¦‚æœè¦ä¿æŒæœ€å Caps Lock ç¯å¼€ï¼Œåœ¨ç¯å…³çš„çŠ¶æ€ä¸‹è¾“å…¥å­—æ¯ï¼Œå¼€ç¯ï¼Œå› æ­¤ä¸º <code>f[i - 1] + 2</code>ï¼›åœ¨ç¯å¼€çš„çŠ¶æ€ä¸‹ Shift + å­—æ¯ï¼Œå› æ­¤ä¸º <code>g[i - 1] + 2</code>ã€‚å½“ç¬¬ $i$ ä¸ªå­—æ¯å¤§å†™çš„æƒ…å†µç±»ä¼¼ã€‚</p><p>åˆå§‹æ¡ä»¶å¦‚ä¸‹ï¼š</p><ul><li>ç¬¬ 1 ä¸ªå­—æ¯å°å†™ï¼š$f[0] = 1,\quad g[0] = 2$</li><li>ç¬¬ 1 ä¸ªå­—æ¯å¤§å†™ï¼š$f[0] = 2,\quad g[0] = 2$</li></ul><p>æœ€åç­”æ¡ˆä¸º <code>min(f[x.length() - 1], g[x.length() - 1] + 1)</code>ï¼Œå› ä¸ºæœ€å Caps Lock ç¯è¦ä¿æŒå…³é—­çŠ¶æ€ã€‚</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;string&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;memory.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>128</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[MAX], g[MAX];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>IsUpper</span>(<span style=color:#66d9ef>char</span> x);
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>IsLower</span>(<span style=color:#66d9ef>char</span> x);
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> N;
</span></span><span style=display:flex><span>    string x;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>(cin <span style=color:#f92672>&gt;&gt;</span> N)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {  
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> x;
</span></span><span style=display:flex><span>            memset(f, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(f));
</span></span><span style=display:flex><span>            memset(g, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(g));
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(IsLower(x[<span style=color:#ae81ff>0</span>])) { f[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; g[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> { f[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; g[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;</span> x.length(); j<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span>(IsLower(x[j]))
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    f[j] <span style=color:#f92672>=</span> min(f[j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, g[j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>                    g[j] <span style=color:#f92672>=</span> min(f[j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>, g[j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    f[j] <span style=color:#f92672>=</span> min(f[j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>, g[j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>                    g[j] <span style=color:#f92672>=</span> min(f[j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>, g[j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            cout <span style=color:#f92672>&lt;&lt;</span> min(f[x.length() <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>], g[x.length() <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>IsUpper</span>(<span style=color:#66d9ef>char</span> x)
</span></span><span style=display:flex><span>{ <span style=color:#66d9ef>return</span> x <span style=color:#f92672>&gt;=</span> <span style=color:#e6db74>&#39;A&#39;</span> <span style=color:#f92672>&amp;&amp;</span> x <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;Z&#39;</span>; }
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>IsLower</span>(<span style=color:#66d9ef>char</span> x)
</span></span><span style=display:flex><span>{ <span style=color:#66d9ef>return</span> x <span style=color:#f92672>&gt;=</span> <span style=color:#e6db74>&#39;a&#39;</span> <span style=color:#f92672>&amp;&amp;</span> x <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;z&#39;</span>; }
</span></span></code></pre></td></tr></table></div></div><p>è¿™é“é¢˜ç›®éœ€è¦ç”¨ä¸¤ä¸ªæ•°ç»„æ¥ç»´æŠ¤ä¸åŒçš„ä¸¤ç§çŠ¶æ€ï¼Œä½¿å¾—é—®é¢˜å¾—åˆ°ç®€åŒ–ã€‚ @ <strong>2015å¹´4æœˆ5æ—¥</strong></p><h2 id=hdu-2844>HDU 2844<a hidden class=anchor aria-hidden=true href=#hdu-2844>#</a></h2><p>ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„æ€è·¯æ˜¯æ„é€  $C_i$ ä¸ªç‰©å“ $A_i$ï¼Œç„¶ååšä¸€é 0/1 èƒŒåŒ…å³å¯ã€‚ä½†æ˜¯ä¼š TLEï¼Œå› æ­¤éœ€è¦å¯»æ±‚ä¼˜åŒ–çš„æ–¹æ³•ã€‚</p><p>åœ¨è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨äºŒè¿›åˆ¶æ‹†åˆ†çš„æ–¹æ³•ã€‚å¯¹äº $C_i$ ä¸ªç‰©å“ $A_i$ï¼Œå°†å®ƒæ‹†åˆ†æˆ $A_i \times (1 + 2 + 4 + 8 + 16 + &mldr; + \mathrm{left})$ï¼Œæ ¹æ®äºŒè¿›åˆ¶çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬çŸ¥é“é€šè¿‡è¿™æ ·çš„æ–¹æ³•å¯ä»¥è·å¾— $1 \times A_i, 2 \times Ai, \cdots C_i \times Ai$ çš„å„ä¸ªæ•°å€¼ã€‚è¯æ˜å¦‚ä¸‹ï¼š</p><p>è¿™å°±ç­‰æ•ˆäºè¯æ˜å¯ä»¥ä» $1, 2, 4, 8, 16, \cdots , \mathrm{left}$ ä¸­é€‰å–ä»»æ„ä¸ªæ•°å­—ç»„æˆ $1, 2, 3,\cdots , C_i$ã€‚æˆ‘ä»¬å°†è¿™äº›æ•°å­—å†™æˆäºŒè¿›åˆ¶çš„å½¢å¼ï¼Œä¼šå‘ç°è¿™ä¸å‰é¢çš„æ‹†åˆ†æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚å› æ­¤è¿™æ ·æ‹†åˆ†ç‰©å“ä¸å½±å“ç»“æœçš„æ­£ç¡®æ€§ï¼Œæ¥ä¸‹æ¥åšä¸€é 0/1 èƒŒåŒ…å³å¯å‡ºè§£ã€‚</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;memory.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>102400</span>;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> f[MAX];
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> pValue[MAX], pData[MAX];
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> N, M, nTmp;
</span></span><span style=display:flex><span>    ios<span style=color:#f92672>::</span>sync_with_stdio(false);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>(cin <span style=color:#f92672>&gt;&gt;</span> N <span style=color:#f92672>&gt;&gt;</span> M)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> nCnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(N <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> M <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) { <span style=color:#66d9ef>break</span>; }
</span></span><span style=display:flex><span>        memset(f, <span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>sizeof</span>(f)); f[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        { cin <span style=color:#f92672>&gt;&gt;</span> pValue[i]; }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> N; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            cin <span style=color:#f92672>&gt;&gt;</span> nTmp;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;=</span> nTmp; j <span style=color:#f92672>&lt;&lt;=</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                pData[<span style=color:#f92672>++</span>nCnt] <span style=color:#f92672>=</span> pValue[i] <span style=color:#f92672>*</span> j;
</span></span><span style=display:flex><span>                nTmp <span style=color:#f92672>-=</span> j;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(nTmp) { pData[<span style=color:#f92672>++</span>nCnt] <span style=color:#f92672>=</span> pValue[i] <span style=color:#f92672>*</span> nTmp; }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> nCnt; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> v <span style=color:#f92672>=</span> M; v <span style=color:#f92672>&gt;=</span> pData[i]; v<span style=color:#f92672>--</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span>(f[v <span style=color:#f92672>-</span> pData[i]]) { f[v] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> M; i<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>        { ans <span style=color:#f92672>+=</span> f[i]; }
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> ans <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>ç¬¬ä¸€æ¬¡æ¥è§¦åˆ°äºŒè¿›åˆ¶æ‹†åˆ†çš„æ€è·¯ï¼Œæ„Ÿè§‰å¾ˆå·§å¦™ï¼Œå€¼å¾—å­¦ä¹ ã€‚ @ <strong>2015å¹´4æœˆ5æ—¥</strong></p><p><em>æœªå®Œå¾…ç»­&mldr;</em></p></div><footer class=post-footer><div class=copyright-box style="margin:0 auto;margin-bottom:15px;text-align:center;border:1px dashed #ccc;padding:10px"><p>æœ¬ä½œå“é‡‡ç”¨<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank rel="noopener noreferrer" style="box-shadow:0 1px">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ã€‚</p><div style=margin-top:5px><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank rel="noopener noreferrer"><img src=https://kwang.life/images/copyright/CC_BY-NC-SA.svg alt=CC-BY-NC-SA style=width:auto;height:42px;display:inline-block></a>
<a href=https://notbyai.fyi target=_blank rel="noopener noreferrer"><img src=https://kwang.life/images/copyright/Written-By-Human-Not-By-AI-Badge-white.svg alt=çœŸäººæ’°å†™ï¼ŒéAIç”Ÿæˆ style=width:auto;height:42px;display:inline-block></a></div></div><ul class=post-tags><li><a href=https://kwang.life/tags/acm-icpc/>ACM-ICPC</a></li><li><a href=https://kwang.life/tags/hdu/>HDU</a></li></ul><nav class=paginav><a class=prev href=https://kwang.life/2015/04/%E6%89%AB%E9%9B%B7%E6%B8%B8%E6%88%8F%E5%88%B6%E4%BD%9C%E8%BF%87%E7%A8%8Bcsharp-%E6%8F%8F%E8%BF%B0%E7%AC%AC%E4%B8%80%E8%8A%82%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>æ‰«é›·æ¸¸æˆåˆ¶ä½œè¿‡ç¨‹ï¼ˆCSharp æè¿°ï¼‰ï¼šç¬¬ä¸€èŠ‚ã€åˆ›å»ºé¡¹ç›®</span></a>
<a class=next href=https://kwang.life/2015/03/sgu-114-telecasting-station/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>SGU 114 - Telecasting station</span></a></nav></footer><div id=tcomment></div><script src=https://cdn.staticfile.org/twikoo/1.6.17/twikoo.all.min.js></script>
<script>twikoo.init({envId:'https://kwang-twikoo.zeabur.app/',el:'#tcomment'})</script></article></main><footer class=footer><span>&copy; 2023 <a href=https://kwang.life>é€€æ€è½©</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><br><div class=busuanzi-footer><span id=busuanzi_container_site_pv>æ€»è®¿é—®é‡&nbsp<span id=busuanzi_value_site_pv></span>&nbspæ¬¡
       </span>
&nbsp;Â·&nbsp;
<span id=busuanzi_container_site_uv>æ€»è®¿å®¢æ•°&nbsp<span id=busuanzi_value_site_uv></span>&nbspä½
       </span></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script><script>document.querySelectorAll('pre > code').forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement('button');e.classList.add('copy-code'),e.innerHTML='å¤åˆ¶';function s(){e.innerHTML='å·²å¤åˆ¶ï¼',setTimeout(()=>{e.innerHTML='å¤åˆ¶'},2e3)}e.addEventListener('click',o=>{if('clipboard'in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand('copy'),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>